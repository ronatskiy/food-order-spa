{"version":3,"sources":["../node_modules/react-router/es/withRouter.js","pages/home/components/take-food-button.tsx","pages/home/components/dish-view.tsx","pages/home/components/shared-food-alert.tsx","pages/home/components/today-orders-table.tsx","pages/home/transformators/transform-to-users-orders.js","pages/home/index.tsx","components/logos/chevron-down.tsx","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","withRouter","Component","C","props","wrappedComponentRef","remainingProps","obj","keys","indexOf","_objectWithoutProperties","react_default","a","createElement","Route","children","routeComponentProps","ref","displayName","name","WrappedComponent","propTypes","prop_types_default","func","hoist_non_react_statics_cjs_default","handleClick","alert","_this","history","push","reactstrap_es","color","onClick","this","React","PureComponent","DishView","_ref","dish","className","price","SharedFoodAlert","state","expanded","toggle","setState","prevState","sharedTodayOrders","orderCount","pill","chevron_down","isOpen","bordered","responsive","size","map","userName","order","Fragment","supplierName","dishes","components_dish_view","id","take_food_button","TodayOrdersTable","todayOrders","striped","_ref2","transformToUsersOrders","suppliers","firstSupplier","slicedToArray","supplierId","categories","reduce","acc","category","toConsumableArray","concat","Dish","Home","context","longOperation","orderService","todayOrdersData","sharedTodayOrdersData","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","getSharedTodayOrders","sent","getTodayOrders","stop","console","log","_context2","t0","message","shared_food_alert","components_today_orders_table","contextType","RootContext","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","ChevronDown","_ref$className","xmlns","width","height","viewBox","d","fill","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","done","value","err","_iterableToArrayLimit","TypeError","_nonIterableRest","__webpack_exports__","REACT_STATICS","childContextTypes","contextTypes","defaultProps","getDefaultProps","getDerivedStateFromProps","mixins","type","KNOWN_STATICS","caller","callee","arity","defineProperty","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","module","exports","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","descriptor","e"],"mappings":"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","file":"static/js/1.5addfe6e.chunk.js","sourcesContent":["var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport hoistStatics from \"hoist-non-react-statics\";\nimport Route from \"./Route\";\n/**\n * A public higher-order component to access the imperative API\n */\n\nvar withRouter = function withRouter(Component) {\n  var C = function C(props) {\n    var wrappedComponentRef = props.wrappedComponentRef,\n        remainingProps = _objectWithoutProperties(props, [\"wrappedComponentRef\"]);\n\n    return React.createElement(Route, {\n      children: function children(routeComponentProps) {\n        return React.createElement(Component, _extends({}, remainingProps, routeComponentProps, {\n          ref: wrappedComponentRef\n        }));\n      }\n    });\n  };\n\n  C.displayName = \"withRouter(\" + (Component.displayName || Component.name) + \")\";\n  C.WrappedComponent = Component;\n  C.propTypes = {\n    wrappedComponentRef: PropTypes.func\n  };\n  return hoistStatics(C, Component);\n};\n\nexport default withRouter;","import React from \"react\";\nimport { Button } from \"reactstrap\";\nimport { withRouter } from \"react-router-dom\";\n\ninterface Props {\n\tname: string;\n\thistory: any;\n}\n\nclass TakeFoodButton extends React.PureComponent<Props> {\n\thandleClick = () => {\n\t\talert(\n\t\t\t\"Вы забронировали обед пользователя \" +\n\t\t\t\tthis.props.name +\n\t\t\t\t\"\\nПожалуйста подтвердите ваши намерения на странице заказа.\",\n\t\t);\n\t\tthis.props.history.push(\"/my-order\");\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Button color=\"primary\" onClick={this.handleClick}>\n\t\t\t\tЗабрать себе\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\n// @ts-ignore\nexport default withRouter(TakeFoodButton);\n","import React from \"react\";\r\nimport Dish from \"../../../entities/dish\";\r\n\r\nimport \"./dish-view.scss\";\r\n\r\ninterface Props {\r\n\tdish: Dish;\r\n}\r\n\r\nconst DishView = ({ dish }: Props) => {\r\n\treturn (\r\n\t\t<div className=\"dish-view px-2\">\r\n\t\t\t<span className=\"dish-view__name\">{dish.name}</span>\r\n\t\t\t{dish.price > 0 && (\r\n\t\t\t\t<span className=\"dish-view__price\">\r\n\t\t\t\t\t<span className=\"dish-view__price-value\">{dish.price}</span>\r\n\t\t\t\t\t<span className=\"dish-view__money-unit\">грн</span>\r\n\t\t\t\t</span>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DishView;\r\n","import React from \"react\";\nimport { Table, Alert, Badge, Collapse } from \"reactstrap\";\n\nimport ChevronDown from \"../../../components/logos/chevron-down\";\nimport TakeFoodButton from \"./take-food-button\";\nimport DishView from \"./dish-view\";\nimport Dish from \"../../../entities/dish\";\nimport { UserOrder } from \"../../../entities/types\";\n\ninterface Props {\n\tsharedTodayOrders: UserOrder[];\n}\n\ninterface State {\n\texpanded: boolean;\n}\n\nclass SharedFoodAlert extends React.PureComponent<Props, State> {\n\tstate: State = {\n\t\texpanded: false,\n\t};\n\n\tprivate toggle = () => {\n\t\tthis.setState(prevState => ({\n\t\t\texpanded: !prevState.expanded,\n\t\t}));\n\t};\n\n\tpublic render() {\n\t\tconst { sharedTodayOrders } = this.props;\n\t\tconst orderCount = sharedTodayOrders.length;\n\n\t\treturn (\n\t\t\t<Alert color=\"warning\">\n\t\t\t\t<div>Внимание! Сегодня есть еда в общем доступе!</div>\n\t\t\t\t<div>\n\t\t\t\t\tКоличество расшаренных обедов{\" \"}\n\t\t\t\t\t<Badge color=\"light\" pill>\n\t\t\t\t\t\t{orderCount}\n\t\t\t\t\t</Badge>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<span className=\"alert-link caret\" onClick={this.toggle}>\n\t\t\t\t\t\tПодробнее\n\t\t\t\t\t\t<ChevronDown />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<Collapse isOpen={this.state.expanded}>\n\t\t\t\t\t<Table className=\"mt-4\" bordered responsive size=\"sm\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Имя</th>\n\t\t\t\t\t\t\t\t<th>Заказ</th>\n\t\t\t\t\t\t\t\t<th />\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{sharedTodayOrders.map(({ userName, order }) => (\n\t\t\t\t\t\t\t\t<tr key={userName}>\n\t\t\t\t\t\t\t\t\t<td>{userName}</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t{order && (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"today-orders-table__supplier-name px-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>{order.supplierName}</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{order.dishes.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\torder.dishes.map((dish: Dish) => <DishView key={dish.id} dish={dish} />)}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t<TakeFoodButton name={userName} />\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</Table>\n\t\t\t\t</Collapse>\n\t\t\t</Alert>\n\t\t);\n\t}\n}\n\nexport default SharedFoodAlert;\n","import React from \"react\";\r\nimport { Table } from \"reactstrap\";\r\nimport DishView from \"./dish-view\";\r\n\r\nimport \"./today-orders-table.scss\";\r\nimport { UserOrder } from \"../../../entities/types\";\r\n\r\ninterface Props {\r\n\ttodayOrders: UserOrder[];\r\n}\r\n\r\nconst TodayOrdersTable = ({ todayOrders }: Props) => {\r\n\treturn (\r\n\t\t<section className=\"mt-4\">\r\n\t\t\t<div className=\"my-2\">Перечень заказанных обедов на сегодня</div>\r\n\t\t\t<Table className=\"today-orders-table\" responsive bordered striped size=\"sm\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Имя</th>\r\n\t\t\t\t\t\t<th>Заказ</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{todayOrders.map(({ userName, order }) => (\r\n\t\t\t\t\t\t<tr key={userName}>\r\n\t\t\t\t\t\t\t<td>{userName}</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t{order && (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"today-orders-table__supplier-name px-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{order.supplierName}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{order.dishes.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\torder.dishes.map(dish => <DishView key={dish.id} dish={dish} />)}\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</Table>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default TodayOrdersTable;\r\n","import Dish from \"../../../entities/dish\";\r\n\r\nfunction transformToUsersOrders(todayOrders) {\r\n\tif (!todayOrders) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\treturn todayOrders.map(({ userName, suppliers }) => {\r\n\t\tconst [firstSupplier] = suppliers; //IMPORTANT!!! The system must allow order only single supplier's food\r\n\t\tconst { supplierId, supplierName, categories } = firstSupplier;\r\n\r\n\t\treturn {\r\n\t\t\tuserName,\r\n\t\t\torder: {\r\n\t\t\t\tsupplierId,\r\n\t\t\t\tsupplierName,\r\n\t\t\t\tdishes: categories.reduce((acc, category) => {\r\n\t\t\t\t\treturn [...acc, ...category.dishes.map(dish => new Dish(dish))];\r\n\t\t\t\t}, []),\r\n\t\t\t},\r\n\t\t};\r\n\t});\r\n}\r\n\r\nexport default transformToUsersOrders;\r\n","import React from \"react\";\nimport { Row, Col } from \"reactstrap\";\n\nimport { RootContext } from \"../../store\";\nimport SharedFoodAlert from \"./components/shared-food-alert\";\nimport TodayOrdersTable from \"./components/today-orders-table\";\nimport transformToUsersOrders from \"./transformators/transform-to-users-orders\";\nimport TodayUserOrder from \"../../entities/today-user-order\";\nimport { UserOrder } from \"../../entities/types\";\n\ninterface Props {}\n\ninterface State {\n\ttodayOrders: UserOrder[],\n\tsharedTodayOrders: UserOrder[]\n}\n\nclass Home extends React.Component<Props, State> {\n\tpublic static contextType = RootContext;\n\tpublic context!: React.ContextType<typeof RootContext>;\n\n\tstate: State = {\n\t\ttodayOrders: [],\n\t\tsharedTodayOrders: [],\n\t};\n\n\tasync componentDidMount() {\n\t\tconst { longOperation, orderService } = this.context;\n\t\ttry {\n\t\t\tlet todayOrdersData: TodayUserOrder[] = [];\n\t\t\tlet sharedTodayOrdersData: TodayUserOrder[] = [];\n\n\t\t\tawait longOperation(async () => {\n\t\t\t\tsharedTodayOrdersData = await orderService.getSharedTodayOrders();\n\t\t\t\ttodayOrdersData = await orderService.getTodayOrders();\n\t\t\t});\n\n\t\t\tthis.setState({\n\t\t\t\ttodayOrders: transformToUsersOrders(todayOrdersData ? todayOrdersData : []),\n\t\t\t\tsharedTodayOrders: transformToUsersOrders(sharedTodayOrdersData ? sharedTodayOrdersData : []),\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tconsole.log(e.message);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{this.state.sharedTodayOrders.length > 0 && (\n\t\t\t\t\t<Row className=\"mt-3\">\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<SharedFoodAlert sharedTodayOrders={this.state.sharedTodayOrders} />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t)}\n\t\t\t\t{this.state.todayOrders.length > 0 && <TodayOrdersTable todayOrders={this.state.todayOrders} />}\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default Home;\n","import React from \"react\";\r\n\r\ninterface Props {\r\n\tclassName?: string;\r\n}\r\n\r\nconst ChevronDown = ({ className = \"\" }: Props) => (\r\n\t<svg className={className} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n\t\t<path d=\"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\" />\r\n\t\t<path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\r\n\t</svg>\r\n);\r\n\r\nexport default ChevronDown;\r\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","'use strict';\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = getPrototypeOf && getPrototypeOf(Object);\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!REACT_STATICS[key] && !KNOWN_STATICS[key] && (!blacklist || !blacklist[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n\n    return targetComponent;\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;"],"sourceRoot":""}