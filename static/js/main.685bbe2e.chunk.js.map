{"version":3,"sources":["pages/login/components/register-new-account-form.tsx","../node_modules/validatorjs/src/lang sync /^/.*$","components/scroll-to-top.tsx","components/smart-route.tsx","images/user-logo.svg","components/header/user/user.tsx","components/header/header.tsx","components/footer/footer.tsx","components/loaders/ellipsis-loader.tsx","components/loaders/smart-loader.tsx","components/app.tsx","store/identity-store.ts","store/opearation-manager.ts","store/root-store.ts","entities/user.ts","entities/day.ts","pages/home/transformators/transform-to-users-orders.ts","store/page-store.ts","pages/home/store/home-page-store.ts","pages/order/store/order-page-store.ts","pages/week-order/store/week-order-page-store.ts","pages/login/store/form-store-base.js","pages/login/store/store.ts","entities/dish.js","entities/dish-category.js","entities/supplier.js","entities/day-menu.ts","services/menu-service/index.ts","config/index.ts","services/auth-service/index.ts","entities/today-user-order.ts","services/order-service/index.ts","services/crypto-service/index.ts","index.tsx","services/index.ts","store/index.ts"],"names":["RegisterNewAccountFormFields","RegisterNewAccountFormSettings","_RegisterNewAccountFo","Object","D_Projects_github_com_food_order_spa_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","name","label","placeholder","rules","RegisterNewAccountForm","observer","_ref","form","nameField","$","nameError","error","nameHasError","Boolean","passwordField","passwordError","passwordHasError","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","reactstrap__WEBPACK_IMPORTED_MODULE_3__","htmlFor","id","assign","bind","invalid","valid","isDirty","type","disabled","isEmpty","isValid","onClick","onSubmit","style","width","map","./ar","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cy","./cy.js","./da","./da.js","./de","./de.js","./el","./el.js","./en","./en.js","./es","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fr","./fr.js","./hr","./hr.js","./hu","./hu.js","./id","./id.js","./it","./it.js","./ja","./ja.js","./ka","./ka.js","./ko","./ko.js","./lt","./lt.js","./lv","./lv.js","./mk","./mk.js","./mn","./mn.js","./ms","./ms.js","./nb_NO","./nb_NO.js","./nl","./nl.js","./pl","./pl.js","./pt","./pt.js","./pt_BR","./pt_BR.js","./ro","./ro.js","./ru","./ru.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr.js","./sv","./sv.js","./tr","./tr.js","./ua","./ua.js","./uk","./uk.js","./vi","./vi.js","./zh","./zh.js","./zh_TW","./zh_TW.js","webpackContext","req","webpackContextResolve","__webpack_require__","e","Error","code","keys","resolve","module","exports","ScrollToTop","prevProps","this","props","location","window","scrollTo","children","React","Component","withRouter","SmartRoute","component","_ref$isAuthenticated","isAuthenticated","_ref$isCurrentUserAdm","isCurrentUserAdmin","_ref$isPrivate","isPrivate","_ref$onlyForAdmins","onlyForAdmins","rest","objectWithoutProperties","react_default","Route","render","Redirect","to","pathname","state","from","_extends","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","user_logo_ref","d","fill","user_logo_SvgComponent","x","y","height","viewBox","User","p","className","Header","inject","toggle","action","_this","isOpen","handleLogout","rootStore","identity","logout","concat","reactstrap_es","dark","expand","Link","navbar","nav","inNavbar","caret","header_user_user","currentUser","fullName","right","divider","observable","Footer","EllipsisLoader","operationManager","hasPendingTasks","loaders_ellipsis_loader","Home","lazy","then","Order","MyOrder","MyWeekOrder","Login","Promise","all","Fragment","header_header","smart_route","exact","path","react","fallback","footer","smart_loader","IdentityStore","authService","cryptoService","classCallCheck","initializerDefineProperty","identity_store_descriptor","_descriptor2","user","authenticate","auth","fetchAllUsers","getAllUsers","users","runInAction","console","_context","t0","message","password","login","encodePassword","signin","computed","OperationManager","operation","pendingTasksCount","finally","RootStore","undefined","Day","shortName","date","isHoliday","transformToUsersOrders","todayOrders","userName","dayName","suppliers","firstSupplier","slicedToArray","allDishes","day","order","supplierName","dishes","PageStore","HomePageStore","bound","orderService","possibleConstructorReturn","getPrototypeOf","home_page_store_descriptor","assertThisInitialized","home_page_store_descriptor2","fetchAllData","fetchTodayOrders","fetchSharedTodayOrders","sharedTodayOrdersData","_this2","sharedTodayOrders","_this3","runWithProgress","getTodayOrders","_this4","getSharedTodayOrders","OrderPageStore","menuService","order_page_store_descriptor","order_page_store_descriptor2","_descriptor3","orderLunch","asyncToGenerator","regenerator_default","mark","_callee","makeOrder","wrap","prev","next","abrupt","stop","_x","_x2","getWeekMenu","weekMenu","dayMenu","switchDay","log","_context2","selectedDay","WEEK_DAYS","WeekOrderPageStore","week_order_page_store_descriptor","userId","getWeekOrders","orders","days","userOrder","reduce","acc","find","toConsumableArray","defaultErrorHandler","invalidate","FormStoreBase","fields","onSuccess","onError","options","showErrorsOnChange","validateOnChange","plugins","dvr","validatorjs","hooks","MobxReactForm","LoginFormStore","store_dec","_dec2","store_class","store_descriptor","store_descriptor2","store_descriptor3","_descriptor4","createClass","get","value","selectedOption","applyDecoratedDescriptor","configurable","enumerable","writable","initializer","getOwnPropertyDescriptor","option","_this3$selectedUser","selectedUser","LoginPageStore","_descriptor5","signInForm","_ref2","_callee2","_form$values","values","signIn","clear","onShowRegisterNewForm","isRegisterNew","loginForm","Dish","price","negativeRewievs","positiveRewievs","rating","DishCategory","_ref$canMultiSelect","canMultiSelect","dish","Supplier","supplierId","availableMoneyToOrder","categories","category","objectSpread","DayMenu","weekDay","_ref$weekDayDate","weekDayDate","_ref$isHoliday","_ref$orderedDishes","orderedDishes","supplier","MenuService","api","axios","menu","data","wd","config","process","REACT_APP_IS_AUTHENTICATED","AuthService","expiresAt","encryptPassword","post","success","token","jwt","verify","setSession","expiresIn","localStorage","removeItem","sessionToken","getItem","getUserFromSession","Date","getTime","setItem","TodayUserOrder","OrderService","uo","CryptoService","bcrypt","hash","configure","enforceActions","apiEndpoint","stores","homePageStore","orderPageStore","weekOrderPageStore","loginPageStore","createStores","rootElement","document","getElementById","ReactDOM","index_module","BrowserRouter","scroll_to_top","app"],"mappings":"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","file":"static/js/main.685bbe2e.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { Form, FormFeedback, FormGroup, Input, Label, Button } from \"reactstrap\";\r\n\r\nexport const RegisterNewAccountFormFields = {\r\n\tNAME: \"name\",\r\n\tPASSWORD: \"password\",\r\n};\r\n\r\nexport const RegisterNewAccountFormSettings = {\r\n\t[RegisterNewAccountFormFields.NAME]: {\r\n\t\tname: RegisterNewAccountFormFields.NAME,\r\n\t\tlabel: \"Ваше имя и фамилия\",\r\n\t\tplaceholder: \"Например, John Doe\",\r\n\t\trules: \"required|string|between:3,25\",\r\n\t},\r\n\r\n\t[RegisterNewAccountFormFields.PASSWORD]: {\r\n\t\tname: RegisterNewAccountFormFields.PASSWORD,\r\n\t\tlabel: \"Пароль\",\r\n\t\tplaceholder: \"Например, ******\",\r\n\t\trules: \"required|string|alpha_num|between:5,15\",\r\n\t},\r\n};\r\n\r\nconst RegisterNewAccountForm = observer(({ form }) => {\r\n\tconst nameField = form.$(RegisterNewAccountFormFields.NAME);\r\n\tconst nameError = nameField.error;\r\n\tconst nameHasError = Boolean(nameError);\r\n\r\n\tconst passwordField = form.$(RegisterNewAccountFormFields.PASSWORD);\r\n\tconst passwordError = passwordField.error;\r\n\tconst passwordHasError = Boolean(passwordError);\r\n\r\n\treturn (\r\n\t\t<Form>\r\n\t\t\t<FormGroup>\r\n\t\t\t\t<Label htmlFor={nameField.id}>{nameField.label}</Label>\r\n\t\t\t\t<Input {...nameField.bind()} invalid={nameHasError} valid={nameField.isDirty && !nameHasError} />\r\n\t\t\t\t<FormFeedback valid={!nameHasError}>{nameError}</FormFeedback>\r\n\t\t\t</FormGroup>\r\n\r\n\t\t\t<FormGroup>\r\n\t\t\t\t<Label htmlFor={passwordField.id}>{passwordField.label}</Label>\r\n\t\t\t\t<Input\r\n\t\t\t\t\t{...passwordField.bind({ type: \"password\" })}\r\n\t\t\t\t\tinvalid={passwordHasError}\r\n\t\t\t\t\tvalid={passwordField.isDirty && !passwordHasError}\r\n\t\t\t\t/>\r\n\t\t\t\t<FormFeedback valid={!passwordHasError}>{passwordError}</FormFeedback>\r\n\t\t\t</FormGroup>\r\n\t\t\t<Button\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tdisabled={form.isEmpty || !form.isValid}\r\n\t\t\t\tonClick={form.onSubmit}\r\n\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t>\r\n\t\t\t\tСоздать новый аккаунт\r\n\t\t\t</Button>\r\n\t\t</Form>\r\n\t);\r\n});\r\n\r\nexport default RegisterNewAccountForm;","var map = {\n\t\"./ar\": 234,\n\t\"./ar.js\": 234,\n\t\"./az\": 235,\n\t\"./az.js\": 235,\n\t\"./be\": 236,\n\t\"./be.js\": 236,\n\t\"./bg\": 237,\n\t\"./bg.js\": 237,\n\t\"./bs\": 238,\n\t\"./bs.js\": 238,\n\t\"./ca\": 239,\n\t\"./ca.js\": 239,\n\t\"./cs\": 240,\n\t\"./cs.js\": 240,\n\t\"./cy\": 241,\n\t\"./cy.js\": 241,\n\t\"./da\": 242,\n\t\"./da.js\": 242,\n\t\"./de\": 243,\n\t\"./de.js\": 243,\n\t\"./el\": 244,\n\t\"./el.js\": 244,\n\t\"./en\": 153,\n\t\"./en.js\": 153,\n\t\"./es\": 245,\n\t\"./es.js\": 245,\n\t\"./et\": 246,\n\t\"./et.js\": 246,\n\t\"./eu\": 247,\n\t\"./eu.js\": 247,\n\t\"./fa\": 248,\n\t\"./fa.js\": 248,\n\t\"./fi\": 249,\n\t\"./fi.js\": 249,\n\t\"./fr\": 250,\n\t\"./fr.js\": 250,\n\t\"./hr\": 251,\n\t\"./hr.js\": 251,\n\t\"./hu\": 252,\n\t\"./hu.js\": 252,\n\t\"./id\": 253,\n\t\"./id.js\": 253,\n\t\"./it\": 254,\n\t\"./it.js\": 254,\n\t\"./ja\": 255,\n\t\"./ja.js\": 255,\n\t\"./ka\": 256,\n\t\"./ka.js\": 256,\n\t\"./ko\": 257,\n\t\"./ko.js\": 257,\n\t\"./lt\": 258,\n\t\"./lt.js\": 258,\n\t\"./lv\": 259,\n\t\"./lv.js\": 259,\n\t\"./mk\": 260,\n\t\"./mk.js\": 260,\n\t\"./mn\": 261,\n\t\"./mn.js\": 261,\n\t\"./ms\": 262,\n\t\"./ms.js\": 262,\n\t\"./nb_NO\": 263,\n\t\"./nb_NO.js\": 263,\n\t\"./nl\": 264,\n\t\"./nl.js\": 264,\n\t\"./pl\": 265,\n\t\"./pl.js\": 265,\n\t\"./pt\": 266,\n\t\"./pt.js\": 266,\n\t\"./pt_BR\": 267,\n\t\"./pt_BR.js\": 267,\n\t\"./ro\": 268,\n\t\"./ro.js\": 268,\n\t\"./ru\": 269,\n\t\"./ru.js\": 269,\n\t\"./sl\": 270,\n\t\"./sl.js\": 270,\n\t\"./sq\": 271,\n\t\"./sq.js\": 271,\n\t\"./sr\": 272,\n\t\"./sr.js\": 272,\n\t\"./sv\": 273,\n\t\"./sv.js\": 273,\n\t\"./tr\": 274,\n\t\"./tr.js\": 274,\n\t\"./ua\": 275,\n\t\"./ua.js\": 275,\n\t\"./uk\": 276,\n\t\"./uk.js\": 276,\n\t\"./vi\": 277,\n\t\"./vi.js\": 277,\n\t\"./zh\": 278,\n\t\"./zh.js\": 278,\n\t\"./zh_TW\": 279,\n\t\"./zh_TW.js\": 279\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 522;","import React from \"react\";\r\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\r\n\r\ninterface Props extends RouteComponentProps<{}> {}\r\n\r\nclass ScrollToTop extends React.Component<Props> {\r\n\tcomponentDidUpdate(prevProps: Props) {\r\n\t\tif (this.props.location !== prevProps.location) {\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn this.props.children;\r\n\t}\r\n}\r\n\r\nexport default withRouter(ScrollToTop);\r\n","import React, { ComponentType } from \"react\";\r\nimport { Redirect, Route, RouteProps } from \"react-router-dom\";\r\n\r\ninterface Props extends RouteProps {\r\n\tcomponent: ComponentType;\r\n\tisAuthenticated?: boolean;\r\n\tisPrivate?: boolean;\r\n\tisCurrentUserAdmin?: boolean;\r\n\tonlyForAdmins?: boolean;\r\n\tpath: string;\r\n}\r\n\r\nconst SmartRoute: React.FC<Props> = ({\r\n\tcomponent: Component,\r\n\tisAuthenticated = false,\r\n\tisCurrentUserAdmin = false,\r\n\tisPrivate = false,\r\n\tonlyForAdmins = false,\r\n\t...rest\r\n}) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={props => {\r\n\t\t\t\tif (onlyForAdmins && !isCurrentUserAdmin) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Redirect\r\n\t\t\t\t\t\t\tto={{\r\n\t\t\t\t\t\t\t\tpathname: \"/\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (isPrivate && !isAuthenticated) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Redirect\r\n\t\t\t\t\t\t\tto={{\r\n\t\t\t\t\t\t\t\tpathname: \"/login\",\r\n\t\t\t\t\t\t\t\tstate: { from: props.location },\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn <Component />;\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default SmartRoute;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M55,27.5C55,12.337,42.663,0,27.5,0S0,12.337,0,27.5c0,8.009,3.444,15.228,8.926,20.258l-0.026,0.023l0.892,0.752  c0.058,0.049,0.121,0.089,0.179,0.137c0.474,0.393,0.965,0.766,1.465,1.127c0.162,0.117,0.324,0.234,0.489,0.348  c0.534,0.368,1.082,0.717,1.642,1.048c0.122,0.072,0.245,0.142,0.368,0.212c0.613,0.349,1.239,0.678,1.88,0.98  c0.047,0.022,0.095,0.042,0.142,0.064c2.089,0.971,4.319,1.684,6.651,2.105c0.061,0.011,0.122,0.022,0.184,0.033  c0.724,0.125,1.456,0.225,2.197,0.292c0.09,0.008,0.18,0.013,0.271,0.021C25.998,54.961,26.744,55,27.5,55  c0.749,0,1.488-0.039,2.222-0.098c0.093-0.008,0.186-0.013,0.279-0.021c0.735-0.067,1.461-0.164,2.178-0.287  c0.062-0.011,0.125-0.022,0.187-0.034c2.297-0.412,4.495-1.109,6.557-2.055c0.076-0.035,0.153-0.068,0.229-0.104  c0.617-0.29,1.22-0.603,1.811-0.936c0.147-0.083,0.293-0.167,0.439-0.253c0.538-0.317,1.067-0.648,1.581-1  c0.185-0.126,0.366-0.259,0.549-0.391c0.439-0.316,0.87-0.642,1.289-0.983c0.093-0.075,0.193-0.14,0.284-0.217l0.915-0.764  l-0.027-0.023C51.523,42.802,55,35.55,55,27.5z M2,27.5C2,13.439,13.439,2,27.5,2S53,13.439,53,27.5  c0,7.577-3.325,14.389-8.589,19.063c-0.294-0.203-0.59-0.385-0.893-0.537l-8.467-4.233c-0.76-0.38-1.232-1.144-1.232-1.993v-2.957  c0.196-0.242,0.403-0.516,0.617-0.817c1.096-1.548,1.975-3.27,2.616-5.123c1.267-0.602,2.085-1.864,2.085-3.289v-3.545  c0-0.867-0.318-1.708-0.887-2.369v-4.667c0.052-0.519,0.236-3.448-1.883-5.864C34.524,9.065,31.541,8,27.5,8  s-7.024,1.065-8.867,3.168c-2.119,2.416-1.935,5.345-1.883,5.864v4.667c-0.568,0.661-0.887,1.502-0.887,2.369v3.545  c0,1.101,0.494,2.128,1.34,2.821c0.81,3.173,2.477,5.575,3.093,6.389v2.894c0,0.816-0.445,1.566-1.162,1.958l-7.907,4.313  c-0.252,0.137-0.502,0.297-0.752,0.476C5.276,41.792,2,35.022,2,27.5z M42.459,48.132c-0.35,0.254-0.706,0.5-1.067,0.735  c-0.166,0.108-0.331,0.216-0.5,0.321c-0.472,0.292-0.952,0.57-1.442,0.83c-0.108,0.057-0.217,0.111-0.326,0.167  c-1.126,0.577-2.291,1.073-3.488,1.476c-0.042,0.014-0.084,0.029-0.127,0.043c-0.627,0.208-1.262,0.393-1.904,0.552  c-0.002,0-0.004,0.001-0.006,0.001c-0.648,0.16-1.304,0.293-1.964,0.402c-0.018,0.003-0.036,0.007-0.054,0.01  c-0.621,0.101-1.247,0.174-1.875,0.229c-0.111,0.01-0.222,0.017-0.334,0.025C28.751,52.97,28.127,53,27.5,53  c-0.634,0-1.266-0.031-1.895-0.078c-0.109-0.008-0.218-0.015-0.326-0.025c-0.634-0.056-1.265-0.131-1.89-0.233  c-0.028-0.005-0.056-0.01-0.084-0.015c-1.322-0.221-2.623-0.546-3.89-0.971c-0.039-0.013-0.079-0.027-0.118-0.04  c-0.629-0.214-1.251-0.451-1.862-0.713c-0.004-0.002-0.009-0.004-0.013-0.006c-0.578-0.249-1.145-0.525-1.705-0.816  c-0.073-0.038-0.147-0.074-0.219-0.113c-0.511-0.273-1.011-0.568-1.504-0.876c-0.146-0.092-0.291-0.185-0.435-0.279  c-0.454-0.297-0.902-0.606-1.338-0.933c-0.045-0.034-0.088-0.07-0.133-0.104c0.032-0.018,0.064-0.036,0.096-0.054l7.907-4.313  c1.36-0.742,2.205-2.165,2.205-3.714l-0.001-3.602l-0.23-0.278c-0.022-0.025-2.184-2.655-3.001-6.216l-0.091-0.396l-0.341-0.221  c-0.481-0.311-0.769-0.831-0.769-1.392v-3.545c0-0.465,0.197-0.898,0.557-1.223l0.33-0.298v-5.57l-0.009-0.131  c-0.003-0.024-0.298-2.429,1.396-4.36C21.583,10.837,24.061,10,27.5,10c3.426,0,5.896,0.83,7.346,2.466  c1.692,1.911,1.415,4.361,1.413,4.381l-0.009,5.701l0.33,0.298c0.359,0.324,0.557,0.758,0.557,1.223v3.545  c0,0.713-0.485,1.36-1.181,1.575l-0.497,0.153l-0.16,0.495c-0.59,1.833-1.43,3.526-2.496,5.032c-0.262,0.37-0.517,0.698-0.736,0.949  l-0.248,0.283V39.8c0,1.612,0.896,3.062,2.338,3.782l8.467,4.233c0.054,0.027,0.107,0.055,0.16,0.083  C42.677,47.979,42.567,48.054,42.459,48.132z\",\n  fill: \"#FFFFFF\"\n});\n\nvar SvgComponent = function SvgComponent(props) {\n  return React.createElement(\"svg\", _extends({\n    x: 0,\n    y: 0,\n    width: 55,\n    height: 55,\n    viewBox: \"0 0 55 55\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/user-logo.fe2d5a4d.svg\";\nexport { SvgComponent as ReactComponent };","import React from \"react\";\r\n\r\nimport { ReactComponent as UserLogo } from \"../../../images/user-logo.svg\";\r\nimport \"./user.scss\";\r\n\r\ninterface Props {\r\n\tname: string;\r\n}\r\n\r\nconst User: React.FC<Props> = ({ name }) => {\r\n\treturn (\r\n\t\t<div className=\"user\">\r\n\t\t\t<UserLogo className=\"user__logo\" />\r\n\t\t\t<span className=\"user__name\">{name}</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n\tContainer,\n\tNavbar,\n\tNavbarToggler,\n\tCollapse,\n\tNav,\n\tNavItem,\n\tUncontrolledDropdown,\n\tDropdownToggle,\n\tDropdownMenu, DropdownItem\n} from \"reactstrap\";\n\nimport User from \"./user/user\";\nimport { RootStore } from \"../../store\";\n\nimport \"./header.scss\";\nimport { observer, inject } from \"mobx-react\";\nimport { action, observable } from \"mobx\";\n\ninterface Props {\n\trootStore?: RootStore;\n\tclassName: string;\n}\n\n@inject(\"rootStore\")\n@observer\nclass Header extends React.Component<Props> {\n\t@observable\n\tisOpen: boolean = false;\n\n\ttoggle = action(() => {\n\t\tthis.isOpen = !this.isOpen;\n\t});\n\n\thandleLogout = action(() => {\n\t\tthis.props.rootStore!.identity.logout();\n\t});\n\n\trender() {\n\t\tconst { className } = this.props;\n\t\tconst { identity } = this.props.rootStore!;\n\n\t\treturn (\n\t\t\t<header className={`header ${className}`}>\n\t\t\t\t<Container className=\"px-0\">\n\t\t\t\t\t<Navbar dark expand=\"md\">\n\t\t\t\t\t\t<Link className=\"navbar-brand\" to=\"/\">\n\t\t\t\t\t\t\tГорячие обеды\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<NavbarToggler onClick={this.toggle} />\n\t\t\t\t\t\t<Collapse isOpen={this.isOpen} navbar>\n\t\t\t\t\t\t\t<Nav className=\"ml-auto mr-auto\" navbar>\n\t\t\t\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t\t\t\t<Link className=\"nav-link\" to=\"/order/\">\n\t\t\t\t\t\t\t\t\t\tЗаказать обед\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t\t\t\t<Link className=\"nav-link\" to=\"/week-order/\">\n\t\t\t\t\t\t\t\t\t\tЗаказ на неделю\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t\t\t\t<Link className=\"nav-link\" to=\"/my-order/\">\n\t\t\t\t\t\t\t\t\t\tМой обед\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t\t<Nav navbar>\n\t\t\t\t\t\t\t\t{!identity.isAuthenticated && (\n\t\t\t\t\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t\t\t\t\t<Link className=\"nav-link\" to=\"/login/\">\n\t\t\t\t\t\t\t\t\t\t\tВход\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{identity.isAuthenticated && (\n\t\t\t\t\t\t\t\t\t<UncontrolledDropdown nav inNavbar>\n\t\t\t\t\t\t\t\t\t\t<DropdownToggle nav caret>\n\t\t\t\t\t\t\t\t\t\t\t<User name={identity.currentUser!.fullName} />\n\t\t\t\t\t\t\t\t\t\t</DropdownToggle>\n\t\t\t\t\t\t\t\t\t\t<DropdownMenu right>\n\t\t\t\t\t\t\t\t\t\t\t<DropdownItem disabled>\n\t\t\t\t\t\t\t\t\t\t\t\tПрофиль\n\t\t\t\t\t\t\t\t\t\t\t</DropdownItem>\n\t\t\t\t\t\t\t\t\t\t\t<DropdownItem divider />\n\t\t\t\t\t\t\t\t\t\t\t<DropdownItem onClick={this.handleLogout}>\n\t\t\t\t\t\t\t\t\t\t\t\tВыход\n\t\t\t\t\t\t\t\t\t\t\t</DropdownItem>\n\t\t\t\t\t\t\t\t\t\t</DropdownMenu>\n\t\t\t\t\t\t\t\t\t</UncontrolledDropdown>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t</Navbar>\n\t\t\t\t</Container>\n\t\t\t</header>\n\t\t);\n\t}\n}\n\nexport default Header;\n","import React from \"react\";\r\nimport { Container } from \"reactstrap\";\r\n\r\ninterface Props {\r\n\tclassName: string;\r\n}\r\n\r\nconst Footer = ({ className }: Props) => {\r\n\treturn (\r\n\t\t<footer className={`footer ${className}`}>\r\n\t\t\t<Container>&copy; 2018 Murano Hackathon Food order group</Container>\r\n\t\t</footer>\r\n\t);\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nimport \"./ellipsis-loader.scss\";\r\n\r\nfunction EllipsisLoader() {\r\n\treturn (\r\n\t\t<div className=\"ellipsis-loader-overlay\">\r\n\t\t\t<div className=\"ellipsis-loader-wrapper\">\r\n\t\t\t\t<div className=\"ellipsis-loader\">\r\n\t\t\t\t\t<div className=\"ellipsis-loader__circle ellipsis-loader__circle--1\" />\r\n\t\t\t\t\t<div className=\"ellipsis-loader__circle ellipsis-loader__circle--2\" />\r\n\t\t\t\t\t<div className=\"ellipsis-loader__circle ellipsis-loader__circle--3\" />\r\n\t\t\t\t\t<div className=\"ellipsis-loader__circle ellipsis-loader__circle--4\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default EllipsisLoader;\r\n","import React from \"react\";\r\nimport { inject, observer } from \"mobx-react\";\r\n\r\nimport Loader from \"./ellipsis-loader\";\r\nimport RootStore from \"../../store/root-store\";\r\n\r\ninterface Props {\r\n\trootStore?: RootStore;\r\n}\r\n\r\nfunction SmartLoader({ rootStore }: Props) {\r\n\tconst { hasPendingTasks } = rootStore!.operationManager;\r\n\r\n\treturn hasPendingTasks ? <Loader /> : null;\r\n}\r\n\r\nexport default inject(\"rootStore\")(observer(SmartLoader));\r\n","import React, { Suspense } from \"react\";\nimport { Container } from \"reactstrap\";\nimport { withRouter, RouteComponentProps } from \"react-router-dom\";\nimport { inject, observer } from \"mobx-react\";\n\nimport Route from \"./smart-route\";\nimport Header from \"./header/header\";\nimport Footer from \"./footer/footer\";\n\nimport SmartLoader from \"./loaders/smart-loader\";\nimport Loader from \"./loaders/ellipsis-loader\";\nimport RootStore from \"../store/root-store\";\n\nconst Home = React.lazy(() => import(\"../pages/home/index\"));\nconst Order = React.lazy(() => import(\"../pages/order/index\"));\nconst MyOrder = React.lazy(() => import(\"../pages/my-order/index\"));\nconst MyWeekOrder = React.lazy(() => import(\"../pages/week-order/index\"));\nconst Login = React.lazy(() => import(\"../pages/login/index\"));\n\ninterface Props extends RouteComponentProps {\n\trootStore?: RootStore;\n}\n\nfunction App({ rootStore }: Props) {\n\tconst { isAuthenticated } = rootStore!.identity;\n\n\treturn (\n\t\t<>\n\t\t\t<Header className=\"layout__header fixed-top\" />\n\t\t\t<main className=\"layout__main\">\n\t\t\t\t<Container>\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\tcomponent={() => (\n\t\t\t\t\t\t\t<Suspense fallback={<Loader />}>\n\t\t\t\t\t\t\t\t<Home />\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/order/\"\n\t\t\t\t\t\tisPrivate\n\t\t\t\t\t\tisAuthenticated={isAuthenticated}\n\t\t\t\t\t\tcomponent={() => (\n\t\t\t\t\t\t\t<Suspense fallback={<Loader />}>\n\t\t\t\t\t\t\t\t<Order />\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/my-order/\"\n\t\t\t\t\t\tisPrivate\n\t\t\t\t\t\tisAuthenticated={isAuthenticated}\n\t\t\t\t\t\tcomponent={() => (\n\t\t\t\t\t\t\t<Suspense fallback={<Loader />}>\n\t\t\t\t\t\t\t\t<MyOrder />\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/week-order/\"\n\t\t\t\t\t\tisPrivate\n\t\t\t\t\t\tisAuthenticated={isAuthenticated}\n\t\t\t\t\t\tcomponent={() => (\n\t\t\t\t\t\t\t<Suspense fallback={<Loader />}>\n\t\t\t\t\t\t\t\t<MyWeekOrder />\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/login/\"\n\t\t\t\t\t\tcomponent={() => (\n\t\t\t\t\t\t\t<Suspense fallback={<Loader />}>\n\t\t\t\t\t\t\t\t<Login />\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</Container>\n\t\t\t</main>\n\t\t\t<Footer className=\"layout__footer\" />\n\t\t\t<SmartLoader />\n\t\t</>\n\t);\n}\n\nexport default inject(\"rootStore\")(withRouter(observer(App)));\n","import { observable, action, computed, runInAction } from \"mobx\";\r\nimport AuthService from \"../services/auth-service\";\r\nimport User from \"../entities/user\";\r\nimport { UserDto } from \"../entities/types\";\r\nimport CryptoService from \"../services/crypto-service\";\r\n\r\nclass IdentityStore {\r\n\tconstructor(private readonly authService: AuthService, private readonly cryptoService: CryptoService) {\r\n\t\tconst user = authService.authenticate();\r\n\r\n\t\tthis.auth(user);\r\n\t\tthis.fetchAllUsers();\r\n\t}\r\n\r\n\t@observable\r\n\tpublic users: UserDto[] = [];\r\n\r\n\t@action\r\n\tprivate async fetchAllUsers() {\r\n\t\ttry {\r\n\t\t\tlet users = await this.authService.getAllUsers();\r\n\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tthis.users = users;\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(e.message);\r\n\t\t}\r\n\t}\r\n\r\n\t@observable\r\n\tpublic currentUser: User | null = null;\r\n\r\n\t@computed\r\n\tpublic get isAuthenticated() {\r\n\t\treturn this.currentUser !== null;\r\n\t};\r\n\r\n\t@action\r\n\tpublic async login(name: string, password: string) {\r\n\t\tconst user = await this.authService.login(name, password);\r\n\r\n\t\treturn this.auth(user);\r\n\t}\r\n\r\n\t@action\r\n\tpublic async signIn(name: string, password: string) {\r\n\t\tpassword = await this.cryptoService.encodePassword(password);\r\n\t\tconst user = await this.authService.signin(name, password);\r\n\r\n\t\treturn this.auth(user);\r\n\t}\r\n\r\n\t@action\r\n\tpublic logout() {\r\n\t\tthis.authService.logout();\r\n\t\tthis.currentUser = null;\r\n\t}\r\n\r\n\t@action\r\n\tprivate auth(user: User | null) {\r\n\t\tthis.currentUser = user;\r\n\t}\r\n}\r\n\r\nexport default IdentityStore;\r\n","import { observable, action, runInAction, computed } from \"mobx\";\r\n\r\nexport default class OperationManager {\r\n\t@observable\r\n\tpendingTasksCount: number = 0;\r\n\r\n\t@computed\r\n\tget hasPendingTasks() {\r\n\t\treturn this.pendingTasksCount > 0;\r\n\t}\r\n\r\n\t@action\r\n\tasync runWithProgress<T>(operation: () => Promise<T>) {\r\n\t\tthis.pendingTasksCount++;\r\n\r\n\t\treturn operation().finally(() => {\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tthis.pendingTasksCount--;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n","import { computed, observable } from \"mobx\";\r\n\r\nimport AuthService from \"../services/auth-service\";\r\nimport IdentityStore from \"./identity-store\";\r\nimport OperationManager from \"./opearation-manager\";\r\nimport CryptoService from \"../services/crypto-service\";\r\n\r\ninterface Params {\r\n\tauthService: AuthService;\r\n\tcryptoService: CryptoService;\r\n}\r\n\r\nexport default class RootStore {\r\n\tconstructor({ authService, cryptoService }: Params ) {\r\n\t\tthis.identity = new IdentityStore(authService, cryptoService);\r\n\t\tthis.operationManager = new OperationManager();\r\n\t}\r\n\r\n\tpublic operationManager: OperationManager;\r\n\r\n\t@observable\r\n\tpublic identity: IdentityStore;\r\n\r\n\t@computed\r\n\tpublic get isLoading() {\r\n\t\treturn this.operationManager.hasPendingTasks;\r\n\t};\r\n}","export default class User {\r\n\tconstructor(\r\n\t\tpublic fullName: string = \"\",\r\n\t\tpublic id: string = \"\") {\r\n\t}\r\n}","export default class Day {\r\n\tconstructor(public shortName: string, public date: string = \"\", public isHoliday: boolean = false) {}\r\n}\r\n","import User from \"../../../entities/user\";\r\nimport Day from \"../../../entities/day\";\r\nimport TodayUserOrder from \"../../../entities/today-user-order\";\r\n\r\nfunction transformToUsersOrders(todayOrders: TodayUserOrder[]) {\r\n\tif (!todayOrders) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\treturn todayOrders.map(({ userName, dayName, suppliers }) => {\r\n\t\tconst [firstSupplier] = suppliers; //IMPORTANT!!! The system must allow order only single supplier's food\r\n\t\tconst { name, allDishes } = firstSupplier;\r\n\r\n\t\treturn {\r\n\t\t\tday: new Day(dayName),\r\n\t\t\tuser: new User(userName),\r\n\t\t\torder: {\r\n\t\t\t\tsupplierName: name,\r\n\t\t\t\tdishes: allDishes,\r\n\t\t\t},\r\n\t\t};\r\n\t});\r\n}\r\n\r\nexport default transformToUsersOrders;\r\n","import RootStore from \"./root-store\";\r\n\r\nexport default class PageStore {\r\n\tconstructor(protected rootStore: RootStore) {}\r\n}","import { observable, runInAction, action } from \"mobx\";\r\n\r\nimport OrderService from \"../../../services/order-service\";\r\nimport { RootStore } from \"../../../store\";\r\nimport { UserOrder } from \"../../../entities/types\";\r\nimport transformToUsersOrders from \"../transformators/transform-to-users-orders\";\r\nimport PageStore from \"../../../store/page-store\";\r\n\r\nclass HomePageStore extends PageStore {\r\n\tconstructor(rootStore: RootStore, private orderService: OrderService) {\r\n\t\tsuper(rootStore);\r\n\r\n\t\tthis.fetchAllData();\r\n\t}\r\n\r\n\t@observable\r\n\tpublic todayOrders: UserOrder[] = [];\r\n\t@observable\r\n\tpublic sharedTodayOrders: UserOrder[] = [];\r\n\r\n\t@action.bound\r\n\tprivate async fetchAllData() {\r\n\t\ttry {\r\n\t\t\tlet todayOrders = await this.fetchTodayOrders();\r\n\t\t\tlet sharedTodayOrdersData = await this.fetchSharedTodayOrders();\r\n\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tthis.todayOrders = todayOrders;\r\n\t\t\t\tthis.sharedTodayOrders = transformToUsersOrders(sharedTodayOrdersData);\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(e.message);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate fetchTodayOrders() {\r\n\t\treturn this.rootStore.operationManager.runWithProgress(() => this.orderService.getTodayOrders())\r\n\t}\r\n\r\n\tprivate fetchSharedTodayOrders() {\r\n\t\treturn this.rootStore.operationManager.runWithProgress(() => this.orderService.getSharedTodayOrders())\r\n\t}\r\n}\r\n\r\nexport default HomePageStore;\r\n","import { action, observable, runInAction } from \"mobx\";\r\n\r\nimport RootStore from \"../../../store/root-store\";\r\nimport MenuService from \"../../../services/menu-service\";\r\nimport DayMenu from \"../../../entities/day-menu\";\r\nimport OrderService from \"../../../services/order-service\";\r\nimport { Order } from \"../../../entities/types\";\r\nimport Day from \"../../../entities/day\";\r\nimport PageStore from \"../../../store/page-store\";\r\n\r\nclass OrderPageStore extends PageStore {\r\n\tconstructor(rootStore: RootStore, private menuService: MenuService, private orderService: OrderService) {\r\n\t\tsuper(rootStore);\r\n\r\n\t\tthis.fetchAllData();\r\n\t}\r\n\r\n\t@observable\r\n\tpublic weekMenu: DayMenu[] = [];\r\n\t@observable\r\n\tpublic selectedDay: string = \"\";\r\n\r\n\t@action.bound\r\n\tpublic switchDay = (dayName: string) => {\r\n\t\tif (this.selectedDay !== dayName) {\r\n\r\n\t\t\tthis.selectedDay = dayName;\r\n\t\t}\r\n\t};\r\n\r\n\tpublic orderLunch = async (day: Day, order: Order) => {\r\n\t\tif(!this.rootStore.identity.isAuthenticated) {\r\n\t\t\tthrow new Error(\"User must be authenticated to perform this operation\");\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst user = this.rootStore.identity.currentUser!;\r\n\t\t\tconst makeOrder = () => this.orderService.orderLunch({\r\n\t\t\t\tday,\r\n\t\t\t\tuser,\r\n\t\t\t\torder,\r\n\t\t\t});\r\n\r\n\t\t\tawait this.rootStore.operationManager.runWithProgress(makeOrder);\r\n\t\t\treturn;\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(e.message);\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tprivate async fetchAllData() {\r\n\t\ttry {\r\n\t\t\tconst weekMenu: DayMenu[] = await this.menuService.getWeekMenu();\r\n\t\t\tconst [dayMenu] = weekMenu;\r\n\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tthis.weekMenu = weekMenu;\r\n\t\t\t});\r\n\r\n\t\t\t// TODO: Use day instead of shortName\r\n\t\t\tthis.switchDay(dayMenu.day.shortName);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e.message);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default OrderPageStore;","import { action, computed, observable, runInAction } from \"mobx\";\r\n\r\nimport PageStore from \"../../../store/page-store\";\r\nimport OrderService from \"../../../services/order-service\";\r\nimport { RootStore } from \"../../../store\";\r\nimport { UserOrder } from \"../../../entities/types\";\r\nimport Day from \"../../../entities/day\";\r\n\r\nconst WEEK_DAYS = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\"];\r\n\r\nexport default class WeekOrderPageStore extends PageStore {\r\n\tconstructor(rootStore: RootStore, private orderService: OrderService) {\r\n\t\tsuper(rootStore);\r\n\t}\r\n\r\n\t@observable\r\n\tpublic orders: UserOrder[] = [];\r\n\r\n\t@computed\r\n\tpublic get days() {\r\n\t\tconst days = this.orders.map(userOrder => userOrder.day);\r\n\r\n\t\treturn WEEK_DAYS.reduce((acc: Day[], shortName: string) => {\r\n\t\t\tconst day = days.find(d => d.shortName === shortName);\r\n\r\n\t\t\treturn [...acc, day || new Day(shortName)];\r\n\t\t}, [])\r\n\t}\r\n\r\n\t@action\r\n\tpublic async fetchOrders() {\r\n\t\tconst userId = this.rootStore.identity.isAuthenticated ?  this.rootStore.identity.currentUser!.id : null;\r\n\t\tconst orders = await this.rootStore.operationManager.runWithProgress(() => this.orderService.getWeekOrders(userId));\r\n\r\n\t\trunInAction(() => {\r\n\t\t\tthis.orders = orders;\r\n\t\t})\r\n\t}\r\n}\r\n","import MobxReactForm from \"mobx-react-form\";\r\nimport validatorjs from \"validatorjs\";\r\n\r\nexport const defaultErrorHandler = form => {\r\n\t// invalidate the form with a custom error message\r\n\tform.invalidate(\"This is a generic error message!\");\r\n};\r\n\r\nclass FormStoreBase extends MobxReactForm {\r\n\tconstructor(fields, onSuccess, onError = defaultErrorHandler) {\r\n\t\tsuper(\r\n\t\t\t{ fields },\r\n\t\t\t{\r\n\t\t\t\toptions: {\r\n\t\t\t\t\tshowErrorsOnChange: true,\r\n\t\t\t\t\tvalidateOnChange: true,\r\n\t\t\t\t},\r\n\t\t\t\tplugins: {\r\n\t\t\t\t\tdvr: validatorjs,\r\n\t\t\t\t},\r\n\t\t\t\thooks: {\r\n\t\t\t\t\tonSuccess,\r\n\t\t\t\t\tonError,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default FormStoreBase;\r\n","import { action, computed, observable } from \"mobx\";\r\n\r\nimport RootStore from \"../../../store/root-store\";\r\nimport PageStore from \"../../../store/page-store\";\r\nimport FormStoreBase from \"./form-store-base\";\r\nimport { RegisterNewAccountFormSettings } from \"../components/register-new-account-form\";\r\nimport { UserDto } from \"../../../entities/types\";\r\n\r\ninterface Option {\r\n\tlabel: string;\r\n\tvalue: string;\r\n}\r\n\r\nexport class LoginFormStore {\r\n\tconstructor(private readonly users: UserDto[], private readonly rootStore: RootStore) {}\r\n\r\n\t@observable\r\n\tselectedUserId: string | null = null;\r\n\r\n\t@observable\r\n\tselectedOption: Option | null = null;\r\n\r\n\t@computed\r\n\tpublic get options() {\r\n\t\treturn this.users.map(user => ({\r\n\t\t\tlabel: user.name,\r\n\t\t\tvalue: user.id,\r\n\t\t}));\r\n\t}\r\n\r\n\t@computed\r\n\tget selectedUser() {\r\n\t\tif (!this.selectedOption) {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\treturn this.users.find(user => user.id === this.selectedOption!.value) || null;\r\n\t}\r\n\r\n\t@action.bound\r\n\tonChange = (option: any) => {\r\n\t\tthis.selectedOption = option;\r\n\t};\r\n\r\n\t@action.bound\r\n\tonSubmit = async () => {\r\n\t\tif (this.selectedUser) {\r\n\t\t\tconst { name, password } = this.selectedUser;\r\n\t\t\tawait this.rootStore.operationManager.runWithProgress(() => {\r\n\t\t\t\treturn this.rootStore.identity.login(name, password)\r\n\t\t\t})\r\n\t\t}\r\n\t};\r\n}\r\n\r\nclass LoginPageStore extends PageStore {\r\n\t@observable\r\n\tpublic signInForm: FormStoreBase;\r\n\tconstructor(rootStore: RootStore) {\r\n\t\tsuper(rootStore);\r\n\r\n\t\tthis.signInForm = new FormStoreBase(RegisterNewAccountFormSettings, async (form: any) => {\r\n\t\t\tconst { name, password } = form.values();\r\n\r\n\t\t\tawait this.rootStore.operationManager.runWithProgress(() => {\r\n\t\t\t\treturn rootStore.identity.signIn(name, password);\r\n\t\t\t});\r\n\r\n\t\t\tform.clear();\r\n\t\t\tthis.onShowRegisterNewForm()\r\n\t\t});\r\n\t}\r\n\r\n\t@computed\r\n\tget isAuthenticated() {\r\n\t\treturn this.rootStore.identity.isAuthenticated;\r\n\t};\r\n\r\n\t@observable\r\n\tisRegisterNew = false;\r\n\r\n\t@action.bound\r\n\tonShowRegisterNewForm() {\r\n\t\tthis.isRegisterNew = !this.isRegisterNew;\r\n\t};\r\n\r\n\t@computed\r\n\tpublic get loginForm() {\r\n\t\tconst { users } = this.rootStore.identity;\r\n\r\n\t\tif(users.length > 0) {\r\n\t\t\treturn new LoginFormStore(users, this.rootStore);\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t};\r\n\r\n\t@computed\r\n\tpublic get showLoginForm() {\r\n\t\treturn !this.isRegisterNew && this.loginForm !== null;\r\n\t}\r\n\r\n\t@computed\r\n\tpublic get showSignInForm() {\r\n\t\treturn this.isRegisterNew;\r\n\t}\r\n}\r\n\r\nexport default LoginPageStore;\r\n","class Dish {\r\n\tconstructor({ id, name, price, negativeRewievs, positiveRewievs }) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.price = price;\r\n\t\tthis.rating = positiveRewievs - negativeRewievs;\r\n\t}\r\n}\r\n\r\nexport default Dish;\r\n","import Dish from \"./dish\";\r\n\r\nclass DishCategory {\r\n\tconstructor({ id, name, dishes, canMultiSelect = false }) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.canMultiSelect = canMultiSelect;\r\n\t\tthis.dishes = dishes.map(dish => new Dish(dish));\r\n\t}\r\n}\r\n\r\nexport default DishCategory;\r\n","import DishCategory from \"./dish-category\";\r\n\r\nclass Supplier {\r\n\tconstructor({ supplierId, supplierName, availableMoneyToOrder, canMultiSelect = true, categories }) {\r\n\t\tthis.id = supplierId;\r\n\t\tthis.name = supplierName;\r\n\t\tthis.availableMoneyToOrder = availableMoneyToOrder;\r\n\t\tthis.categories = categories.map(category => new DishCategory({ ...category, canMultiSelect }));\r\n\t}\r\n\r\n\tget allDishes() {\r\n\t\treturn this.categories.reduce((allDishes, category) => {\r\n\t\t\treturn [...allDishes, ...category.dishes];\r\n\t\t}, []);\r\n\t}\r\n}\r\n\r\nexport default Supplier;\r\n","import Supplier from \"./supplier\";\r\nimport Day from \"./day\";\r\n\r\ninterface DayMenuRawData {\r\n \tsuppliers:[];\r\n\tweekDay: any;\r\n\tweekDayDate: string;\r\n\tisHoliday: boolean;\r\n\torderedDishes: [];\r\n}\r\n\r\nclass DayMenu {\r\n\tpublic day: Day;\r\n\tpublic suppliers: Supplier[];\r\n\tpublic orderedDishes: [];\r\n\r\n\tconstructor({ suppliers, weekDay, weekDayDate = \"\", isHoliday = false, orderedDishes = [] }: DayMenuRawData) {\r\n\t\tthis.day = new Day(\r\n\t\t\tweekDay,\r\n\t\t\tweekDayDate,\r\n\t\t\tisHoliday,\r\n\t\t);\r\n\t\tthis.suppliers = suppliers.map(supplier => new Supplier(supplier));\r\n\t\tthis.orderedDishes = orderedDishes;\r\n\t}\r\n}\r\n\r\nexport default DayMenu;\r\n","import axios from \"axios\";\r\nimport DayMenu from \"../../entities/day-menu\";\r\n\r\nexport default class MenuService {\r\n\tprivate api: string;\r\n\r\n\tconstructor(api: string) {\r\n\t\tthis.api = `${api}/menu/week-menu/`;\r\n\t}\r\n\r\n\tpublic async getWeekMenu() {\r\n\t\tconst menu = (await axios.get(this.api)).data;\r\n\r\n\t\treturn menu.map((wd: any) => new DayMenu(wd));\r\n\t}\r\n}","export const config = {\r\n\tisAuthenticated: process.env.REACT_APP_IS_AUTHENTICATED === \"true\",\r\n\tbackendDomain: process.env.REACT_APP_BACKEND_DOMAIN,\r\n\tsecret: process.env.REACT_APP_JWT_SECRET || \"\",\r\n};\r\n","import axios from \"axios\";\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nimport User from \"../../entities/user\";\r\nimport { config } from \"../../config\";\r\n\r\ninterface AuthResponce {\r\n\tsuccess: boolean;\r\n\ttoken: string;\r\n\tmessage: string;\r\n}\r\n\r\ninterface UserDto {\r\n\tid: string;\r\n\tname: string;\r\n\texpiresIn: number;\r\n}\r\n\r\nconst LOCAL_STORAGE_KEY = \"food-order-session\";\r\n\r\nexport default class AuthService {\r\n\tprivate expiresAt: number = 0;\r\n\r\n\tpublic get isAuthenticated() {\r\n\t\treturn new Date().getTime() < this.expiresAt;\r\n\t}\r\n\r\n\tpublic async login(name: string, password: string) {\r\n\t\tpassword = this.encryptPassword(password);\r\n\r\n\t\ttry {\r\n\t\t\tconst { success, token }: AuthResponce = (await axios.post(\"/login\", { name, password })).data;\r\n\r\n\t\t\tif ( success ) {\r\n\t\t\t\tlet user: UserDto | null = null;\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tuser = jwt.verify(token, config.secret) as UserDto;\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.error(e);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setSession(user.expiresIn, token);\r\n\r\n\t\t\t\treturn new User(user.name, user.id);\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\treturn Promise.resolve(null);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic async signin(name: string, password: string) {\r\n\t\tpassword = this.encryptPassword(password);\r\n\r\n\t\ttry {\r\n\t\t\tconst { success, token }: AuthResponce = (await axios.post(\"/signin\", { name, password })).data;\r\n\r\n\t\t\tif ( success ) {\r\n\t\t\t\tlet user: UserDto | null = null;\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tuser = jwt.verify(token, config.secret) as UserDto;\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.error(e);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setSession(user.expiresIn, token);\r\n\r\n\t\t\t\treturn new User(user.name, user.id);\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\treturn Promise.resolve(null);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic logout() {\r\n\t\tlocalStorage.removeItem(LOCAL_STORAGE_KEY);\r\n\t}\r\n\r\n\tpublic authenticate() {\r\n\t\tlet sessionToken = window.localStorage.getItem(LOCAL_STORAGE_KEY);\r\n\t\tif (!sessionToken) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn this.getUserFromSession(sessionToken);\r\n\t}\r\n\r\n\t//TODO:  KILLME !!!\r\n\tpublic async getAllUsers() {\r\n\t\treturn (await axios(`${config.backendDomain}api/users/`)).data;\r\n\t}\r\n\r\n\tprivate getUserFromSession(sessionToken: string): User | null {\r\n\t\tlet user = null;\r\n\r\n\t\ttry {\r\n\t\t\tuser = jwt.verify(sessionToken, config.secret) as UserDto;\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(e);\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn new User(user.name, user.id);\r\n\t}\r\n\r\n\tprivate setSession(expiresIn: number, token: string) {\r\n\t\t// set the time that the id token will expire at\r\n\t\tthis.expiresAt = expiresIn * 1000 + new Date().getTime();\r\n\r\n\t\tlocalStorage.setItem(LOCAL_STORAGE_KEY, token);\r\n\t}\r\n\r\n\tprivate encryptPassword(password: string) {\r\n\t\treturn password;\r\n\t}\r\n}","import Supplier from \"./supplier\";\r\n\r\nclass TodayUserOrder {\r\n\tpublic dayName: string;\r\n\tpublic userName: string;\r\n\tpublic suppliers: Supplier[];\r\n\r\n\tconstructor(dayName: string, userName: string, suppliers: any[]) {\r\n\t\tthis.dayName = dayName;\r\n\t\tthis.userName = userName;\r\n\t\tthis.suppliers = suppliers.map(supplier => new Supplier(supplier));\r\n\t}\r\n}\r\n\r\nexport default TodayUserOrder;\r\n","import axios from \"axios\";\r\n\r\nimport { UserOrder } from \"../../entities/types\";\r\nimport TodayUserOrder from \"../../entities/today-user-order\";\r\n\r\nexport default class OrderService {\r\n\tconstructor(private readonly api: string) {\r\n\t\tthis.api = `${api}/order`;\r\n\t}\r\n\r\n\tpublic async getTodayOrders(): Promise<UserOrder[]> {\r\n\t\treturn (await axios.get(`${this.api}/today-orders/`)).data;\r\n\t}\r\n\r\n\tpublic async getSharedTodayOrders(): Promise<TodayUserOrder[]> {\r\n\t\tconst orders = (await axios.get(`${this.api}/shared-today-orders/`)).data;\r\n\t\treturn orders.map((uo: any) => new TodayUserOrder(uo.weekDay, uo.userName, uo.suppliers));\r\n\t}\r\n\r\n\tpublic orderLunch(userOrder: UserOrder) {\r\n\t\treturn axios.post(`${this.api}/order-lunch/`, userOrder);\r\n\t}\r\n\r\n\tpublic async getWeekOrders(userId: string | null): Promise<UserOrder[]> {\r\n\t\tif (!userId) {\r\n\t\t\treturn []\r\n\t\t}\r\n\r\n\t\treturn (await axios.get(`${this.api}/week-orders/${userId}`)).data;\r\n\t}\r\n}","import bcrypt from \"bcryptjs\";\r\n\r\nclass CryptoService {\r\n\tencodePassword(password: string) {\r\n\t\treturn bcrypt.hash(password, 10);\r\n\t}\r\n}\r\n\r\nexport default CryptoService;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { configure } from \"mobx\";\nimport { Provider } from \"mobx-react\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport ScrollToTop from \"./components/scroll-to-top\";\nimport App from \"./components/app\";\nimport { createStores } from \"./store\";\nimport { createServices } from \"./services\";\nimport { config } from \"./config\";\nimport \"./vendors/index\";\nimport \"./index.scss\";\n\nconfigure({ enforceActions: \"always\" });\n\nconst services = createServices(`${config.backendDomain}api`);\nconst stores = createStores(services);\n\nconst rootElement = document.getElementById(\"root\");\n\nReactDOM.render(\n\t<Provider {...stores}>\n\t\t<BrowserRouter>\n\t\t\t<ScrollToTop>\n\t\t\t\t<App />\n\t\t\t</ScrollToTop>\n\t\t</BrowserRouter>\n\t</Provider>,\n\trootElement,\n);\n","import MenuService from \"./menu-service\";\r\nimport AuthService from \"./auth-service\";\r\nimport OrderService from \"./order-service\";\r\nimport CryptoService from \"./crypto-service\";\r\n\r\nexport function createServices(apiEndpoint: string) {\r\n\treturn {\r\n\t\tmenuService: new MenuService(apiEndpoint),\r\n\t\torderService: new OrderService(apiEndpoint),\r\n\t\tauthService: new AuthService(),\r\n\t\tcryptoService: new CryptoService(),\r\n\t};\r\n}\r\n","import RootStore from \"./root-store\";\r\nimport MenuService from \"../services/menu-service\";\r\nimport OrderService from \"../services/order-service\";\r\nimport AuthService from \"../services/auth-service\";\r\nimport HomePageStore from \"../pages/home/store/home-page-store\";\r\nimport OrderPageStore from \"../pages/order/store/order-page-store\";\r\nimport WeekOrderPageStore from \"../pages/week-order/store/week-order-page-store\";\r\nimport LoginPageStore from \"../pages/login/store/store\";\r\nimport CryptoService from \"../services/crypto-service\";\r\n\r\ninterface Services {\r\n\tmenuService: MenuService;\r\n\torderService: OrderService;\r\n\tauthService: AuthService;\r\n\tcryptoService: CryptoService;\r\n}\r\n\r\nfunction createStores({ menuService, orderService, authService, cryptoService }: Services) {\r\n\tconst rootStore = new RootStore({ authService, cryptoService });\r\n\tconst homePageStore = new HomePageStore(rootStore, orderService);\r\n\tconst orderPageStore = new OrderPageStore(rootStore, menuService, orderService);\r\n\tconst weekOrderPageStore = new WeekOrderPageStore(rootStore, orderService);\r\n\tconst loginPageStore = new LoginPageStore(rootStore);\r\n\r\n\treturn { rootStore, homePageStore, orderPageStore, weekOrderPageStore, loginPageStore };\r\n}\r\n\r\nexport { RootStore, createStores };\r\n"],"sourceRoot":""}