(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{53:function(e,t,a){"use strict";var r=a(1),n=a.n(r);t.a=function(e){var t=e.className;return n.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.a.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))}},54:function(e,t,a){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,c=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done)&&(a.push(l.value),!t||a.length!==t);r=!0);}catch(o){n=!0,c=o}finally{try{r||null==s.return||s.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.d(t,"a",function(){return r})},55:function(e,t,a){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},c=Object.defineProperty,l=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,o=Object.getOwnPropertyDescriptor,i=Object.getPrototypeOf,u=i&&i(Object);e.exports=function e(t,a,p){if("string"!==typeof a){if(u){var d=i(a);d&&d!==u&&e(t,d,p)}var m=l(a);s&&(m=m.concat(s(a)));for(var h=0;h<m.length;++h){var f=m[h];if(!r[f]&&!n[f]&&(!p||!p[f])){var y=o(a,f);try{c(t,f,y)}catch(v){}}}return t}return t}},56:function(e,t,a){},58:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var r=a(7),n=a.n(r),c=a(11),l=a(5),s=a(10),o=a(13),i=a(12),u=a(14),p=a(1),d=a.n(p),m=a(4),h=a(15),f=a(53),y=a(0),v=a.n(y),E=a(55),O=a.n(E),b=a(26),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};var w=function(e){var t=function(t){var a=t.wrappedComponentRef,r=function(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}(t,["wrappedComponentRef"]);return d.a.createElement(b.a,{children:function(t){return d.a.createElement(e,g({},r,t,{ref:a}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:v.a.func},O()(t,e)}(function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).handleClick=function(){alert("\u0412\u044b \u0437\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u043e\u0431\u0435\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f "+a.props.name+"\n\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0438 \u043d\u0430\u043c\u0435\u0440\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0437\u0430\u043a\u0430\u0437\u0430."),a.props.history.push("/my-order")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return d.a.createElement(m.c,{color:"primary",onClick:this.handleClick},"\u0417\u0430\u0431\u0440\u0430\u0442\u044c \u0441\u0435\u0431\u0435")}}]),t}(d.a.PureComponent)),j=a(21),N=(a(56),function(e){var t=e.dish;return d.a.createElement("div",{className:"dish-view px-2"},d.a.createElement("span",{className:"dish-view__name"},t.name),t.price>0&&d.a.createElement("span",{className:"dish-view__price"},d.a.createElement("span",{className:"dish-view__price-value"},t.price),d.a.createElement("span",{className:"dish-view__money-unit"},"\u0433\u0440\u043d")))}),x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={expanded:!1},a.toggle=function(){a.setState(function(e){return{expanded:!e.expanded}})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.sharedTodayOrders,t=e.length.orderCount;return d.a.createElement(m.a,{color:"warning"},d.a.createElement("div",null,"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0435\u0441\u0442\u044c \u0435\u0434\u0430 \u0432 \u043e\u0431\u0449\u0435\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u0435!"),d.a.createElement("div",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0430\u0441\u0448\u0430\u0440\u0435\u043d\u043d\u044b\u0445 \u043e\u0431\u0435\u0434\u043e\u0432"," ",d.a.createElement(m.b,{color:"light",pill:!0},t)),d.a.createElement("div",null,d.a.createElement("span",{className:"alert-link caret",onClick:this.toggle},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",d.a.createElement(f.a,null))),d.a.createElement(m.e,{isOpen:this.state.expanded},d.a.createElement(m.o,{className:"mt-4",bordered:!0,responsive:!0,size:"sm"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"\u0418\u043c\u044f"),d.a.createElement("th",null,"\u0417\u0430\u043a\u0430\u0437"),d.a.createElement("th",null))),d.a.createElement("tbody",null,e.map(function(e){var t=e.userName,a=e.order;return d.a.createElement("tr",{key:t},d.a.createElement("td",null,t),d.a.createElement("td",null,a&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"today-orders-table__supplier-name px-2"},d.a.createElement("strong",null,a.supplierName)),a.dishes.length>0&&a.dishes.map(function(e){return d.a.createElement(N,{key:e.id,dish:e})}))),d.a.createElement("td",{className:"text-right"},d.a.createElement(w,{name:t})))})))))}}]),t}(d.a.PureComponent),k=(a(58),function(e){var t=e.todayOrders;return d.a.createElement("section",{className:"mt-4"},d.a.createElement("div",{className:"my-2"},"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0437\u0430\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u0435\u0434\u043e\u0432 \u043d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"),d.a.createElement(m.o,{className:"today-orders-table",responsive:!0,bordered:!0,striped:!0,size:"sm"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"\u0418\u043c\u044f"),d.a.createElement("th",null,"\u0417\u0430\u043a\u0430\u0437"))),d.a.createElement("tbody",null,t.map(function(e){var t=e.userName,a=e.order;return d.a.createElement("tr",{key:t},d.a.createElement("td",null,t),d.a.createElement("td",null,a&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"today-orders-table__supplier-name px-2"},d.a.createElement("strong",null,a.supplierName)),a.dishes.length>0&&a.dishes.map(function(e){return d.a.createElement(N,{key:e.id,dish:e})}))))}))))}),T=a(17),C=a(54);var P=function(e){return e?e.map(function(e){var t=e.userName,a=e.suppliers,r=Object(C.a)(a,1)[0];return{userName:t,order:{supplierId:r.supplierId,supplierName:r.supplierName,dishes:r.categories.reduce(function(e,t){return Object(T.a)(e).concat(Object(T.a)(t.dishes.map(function(e){return new j.a(e)})))},[])}}}):[]},_=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={todayOrders:[],sharedTodayOrders:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(n.a.mark(function e(){var t,a,r,l,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context,a=t.longOperation,r=t.webApi,e.prev=1,l=[],s=[],e.next=6,a(Object(c.a)(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getSharedTodayOrders();case 2:return s=e.sent,e.next=5,r.getTodayOrders();case 5:l=e.sent;case 6:case"end":return e.stop()}},e,this)})));case 6:this.setState({todayOrders:P(l?l.weekDays:[]),sharedTodayOrders:P(s?s.weekDays:[])}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,this.state.sharedTodayOrders.length>0&&d.a.createElement(m.l,{className:"mt-3"},d.a.createElement(m.d,null,d.a.createElement(x,{sharedTodayOrders:this.state.sharedTodayOrders}))),this.state.todayOrders.length>0&&d.a.createElement(k,{todayOrders:this.state.todayOrders}))}}]),t}(d.a.Component);_.contextType=h.a;t.default=_}}]);
//# sourceMappingURL=1.ee260844.chunk.js.map