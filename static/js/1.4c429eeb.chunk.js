(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{51:function(e,t,r){"use strict";var a=r(1),n=r.n(a);t.a=function(e){var t=e.className;return n.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.a.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))}},52:function(e,t,r){"use strict";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],a=!0,n=!1,c=void 0;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(o){n=!0,c=o}finally{try{a||null==s.return||s.return()}finally{if(n)throw c}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}r.d(t,"a",function(){return a})},53:function(e,t,r){"use strict";var a={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},c=Object.defineProperty,l=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,o=Object.getOwnPropertyDescriptor,i=Object.getPrototypeOf,u=i&&i(Object);e.exports=function e(t,r,p){if("string"!==typeof r){if(u){var m=i(r);m&&m!==u&&e(t,m,p)}var d=l(r);s&&(d=d.concat(s(r)));for(var h=0;h<d.length;++h){var f=d[h];if(!a[f]&&!n[f]&&(!p||!p[f])){var y=o(r,f);try{c(t,f,y)}catch(v){}}}return t}return t}},54:function(e,t,r){},56:function(e,t,r){},70:function(e,t,r){"use strict";r.r(t);var a=r(7),n=r.n(a),c=r(10),l=r(5),s=r(11),o=r(13),i=r(12),u=r(14),p=r(1),m=r.n(p),d=r(4),h=r(15),f=r(51),y=r(0),v=r.n(y),E=r(53),O=r.n(E),b=r(24),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};var w=function(e){var t=function(t){var r=t.wrappedComponentRef,a=function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(t,["wrappedComponentRef"]);return m.a.createElement(b.a,{children:function(t){return m.a.createElement(e,g({},a,t,{ref:r}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:v.a.func},O()(t,e)}(function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).handleClick=function(){alert("\u0412\u044b \u0437\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u043e\u0431\u0435\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f "+r.props.name+"\n\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0438 \u043d\u0430\u043c\u0435\u0440\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0437\u0430\u043a\u0430\u0437\u0430."),r.props.history.push("/my-order")},r}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return m.a.createElement(d.c,{color:"primary",onClick:this.handleClick},"\u0417\u0430\u0431\u0440\u0430\u0442\u044c \u0441\u0435\u0431\u0435")}}]),t}(m.a.PureComponent)),j=r(20),N=(r(54),function(e){var t=e.dish;return m.a.createElement("div",{className:"dish-view px-2"},m.a.createElement("span",{className:"dish-view__name"},t.name),t.price>0&&m.a.createElement("span",{className:"dish-view__price"},m.a.createElement("span",{className:"dish-view__price-value"},t.price),m.a.createElement("span",{className:"dish-view__money-unit"},"\u0433\u0440\u043d")))}),x=function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={expanded:!1},r.toggle=function(){r.setState(function(e){return{expanded:!e.expanded}})},r}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.sharedTodayOrders,t=e.length.orderCount;return m.a.createElement(d.a,{color:"warning"},m.a.createElement("div",null,"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0435\u0441\u0442\u044c \u0435\u0434\u0430 \u0432 \u043e\u0431\u0449\u0435\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u0435!"),m.a.createElement("div",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0430\u0441\u0448\u0430\u0440\u0435\u043d\u043d\u044b\u0445 \u043e\u0431\u0435\u0434\u043e\u0432"," ",m.a.createElement(d.b,{color:"light",pill:!0},t)),m.a.createElement("div",null,m.a.createElement("span",{className:"alert-link caret",onClick:this.toggle},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",m.a.createElement(f.a,null))),m.a.createElement(d.e,{isOpen:this.state.expanded},m.a.createElement(d.o,{className:"mt-4",bordered:!0,responsive:!0,size:"sm"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"\u0418\u043c\u044f"),m.a.createElement("th",null,"\u0417\u0430\u043a\u0430\u0437"),m.a.createElement("th",null))),m.a.createElement("tbody",null,e.map(function(e){var t=e.userName,r=e.order;return m.a.createElement("tr",{key:t},m.a.createElement("td",null,t),m.a.createElement("td",null,r&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"today-orders-table__supplier-name px-2"},m.a.createElement("strong",null,r.supplierName)),r.dishes.length>0&&r.dishes.map(function(e){return m.a.createElement(N,{key:e.id,dish:e})}))),m.a.createElement("td",{className:"text-right"},m.a.createElement(w,{name:t})))})))))}}]),t}(m.a.PureComponent),k=(r(56),function(e){var t=e.todayOrders;return m.a.createElement("section",{className:"mt-4"},m.a.createElement("div",{className:"my-2"},"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0437\u0430\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u0435\u0434\u043e\u0432 \u043d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"),m.a.createElement(d.o,{className:"today-orders-table",responsive:!0,bordered:!0,striped:!0,size:"sm"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"\u0418\u043c\u044f"),m.a.createElement("th",null,"\u0417\u0430\u043a\u0430\u0437"))),m.a.createElement("tbody",null,t.map(function(e){var t=e.userName,r=e.order;return m.a.createElement("tr",{key:t},m.a.createElement("td",null,t),m.a.createElement("td",null,r&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"today-orders-table__supplier-name px-2"},m.a.createElement("strong",null,r.supplierName)),r.dishes.length>0&&r.dishes.map(function(e){return m.a.createElement(N,{key:e.id,dish:e})}))))}))))});function T(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var C=r(52);var P=function(e){return e?e.map(function(e){var t=e.userName,r=e.suppliers,a=Object(C.a)(r,1)[0];return{userName:t,order:{supplierId:a.supplierId,supplierName:a.supplierName,dishes:a.categories.reduce(function(e,t){return T(e).concat(T(t.dishes.map(function(e){return new j.a(e)})))},[])}}}):[]},_=function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={todayOrders:[],sharedTodayOrders:[]},r}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(n.a.mark(function e(){var t,r,a,l,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context,r=t.longOperation,a=t.webApi,e.prev=1,l=[],s=[],e.next=6,r(Object(c.a)(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getSharedTodayOrders();case 2:return s=e.sent,e.next=5,a.getTodayOrders();case 5:l=e.sent;case 6:case"end":return e.stop()}},e,this)})));case 6:this.setState({todayOrders:P(l?l.weekDays:[]),sharedTodayOrders:P(s?s.weekDays:[])}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,this.state.sharedTodayOrders.length>0&&m.a.createElement(d.l,{className:"mt-3"},m.a.createElement(d.d,null,m.a.createElement(x,{sharedTodayOrders:this.state.sharedTodayOrders}))),this.state.todayOrders.length>0&&m.a.createElement(k,{todayOrders:this.state.todayOrders}))}}]),t}(m.a.Component);_.contextType=h.a;t.default=_}}]);
//# sourceMappingURL=1.4c429eeb.chunk.js.map