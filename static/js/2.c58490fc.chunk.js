(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{653:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(11),s=n(20),l=n(695),i=function(){return r.a.createElement(c.a,{className:"my-3",color:"danger"},r.a.createElement("div",null,"\u042d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c."),r.a.createElement("div",null,"\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435"," ",r.a.createElement(l.a,{className:"btn btn-primary btn-sm",to:"/login"},"\u0412\u0445\u043e\u0434")))};t.a=function(e){return Object(s.b)("appStore")(Object(s.c)(function(t){return t.appStore.identity.isAuthenticated?r.a.createElement(e,t):r.a.createElement(i,null)}))}},654:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(1),r=n.n(a);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s=r.a.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),l=r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i=function(e){return r.a.createElement("svg",c({width:24,height:24,viewBox:"0 0 24 24"},e),s,l)};n.p},658:function(e,t,n){"use strict";function a(e){return"Mon"===e?"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a":"Tue"===e?"\u0412\u0442\u043e\u0440\u043d\u0438\u043a":"Wed"===e?"\u0421\u0440\u0435\u0434\u0430":"Thu"===e?"\u0427\u0435\u0442\u0432\u0435\u0440\u0433":"Fri"===e?"\u041f\u044f\u0442\u043d\u0438\u0446\u0430":"\u0412\u044b\u0445\u043e\u0434\u043d\u043e\u0439"}n.d(t,"a",function(){return a})},666:function(e,t,n){(function(t){var n="Expected a function",a=9007199254740991,r="[object Arguments]",c="[object Function]",s="[object GeneratorFunction]",l="object"==typeof t&&t&&t.Object===Object&&t,i="object"==typeof self&&self&&self.Object===Object&&self,o=l||i||Function("return this")();function u(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e}var h=Object.prototype,d=h.hasOwnProperty,p=h.toString,m=o.Symbol,f=h.propertyIsEnumerable,v=m?m.isConcatSpreadable:void 0,y=Math.max;function b(e){return E(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?p.call(e):"";return t==c||t==s}(e)}(e)}(e)&&d.call(e,"callee")&&(!f.call(e,"callee")||p.call(e)==r)}(e)||!!(v&&e&&e[v])}var E=Array.isArray;var g=function(e){return t=function(t){var a=(t=function e(t,n,a,r,c){var s=-1,l=t.length;for(a||(a=b),c||(c=[]);++s<l;){var i=t[s];n>0&&a(i)?n>1?e(i,n-1,a,r,c):u(c,i):r||(c[c.length]=i)}return c}(t,1)).length,r=a;for(e&&t.reverse();r--;)if("function"!=typeof t[r])throw new TypeError(n);return function(){for(var e=0,n=a?t[e].apply(this,arguments):arguments[0];++e<a;)n=t[e].call(this,n);return n}},a=y(void 0===a?t.length-1:a,0),function(){for(var e=arguments,n=-1,r=y(e.length-a,0),c=Array(r);++n<r;)c[n]=e[a+n];n=-1;for(var s=Array(a+1);++n<a;)s[n]=e[n];return s[a]=c,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(t,this,s)};var t,a}(!0);e.exports=g}).call(this,n(24))},667:function(e,t,n){},669:function(e,t,n){},671:function(e,t,n){},673:function(e,t,n){},675:function(e,t,n){},697:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(666),s=n.n(c),l=n(20),i=n(11),o=n(653),u=n(6),h=n.n(u),d=n(10),p=n(5),m=n(7),f=n(17),v=n(16),y=n(18),b=n(3),E=n.n(b);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var O=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),S=r.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),j=function(e){return r.a.createElement("svg",g({width:24,height:24,viewBox:"0 0 24 24"},e),O,S)};n.p;function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var k=r.a.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),N=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),w=function(e){return r.a.createElement("svg",_({width:24,height:24,viewBox:"0 0 24 24"},e),k,N)},D=(n.p,n(667),function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=n.props,t=e.isSelected,a=e.dish,r=e.onSelect,c=e.onUnselect;t?c(a):r(a)},n}return Object(y.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,a=e.dish,c=e.isSelected,s=e.disabled;return r.a.createElement("div",{className:E()("dish-selector",{"dish-selector--disabled":s},n),onClick:this.handleClick},r.a.createElement("span",{className:"dish-selector__name"},a.name),a.price>0&&r.a.createElement("span",{className:"dish-selector__price"},a.price,r.a.createElement("span",{className:"dish-selector__money-unit"},"\u0433\u0440\u043d")),r.a.createElement("span",{className:"dish-selector__button"},c?r.a.createElement(w,{className:"dish-selector__icon dish-selector__icon--cancel"}):r.a.createElement(j,{className:"dish-selector__icon dish-selector__icon--add"})))}}]),t}(r.a.Component));D.defaultProps={className:"",isSelected:!1,disabled:!1,onSelect:function(){},onUnselect:function(){}};var C=D;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var z=r.a.createElement("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),x=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),A=function(e){return r.a.createElement("svg",M({width:24,height:24,viewBox:"0 0 24 24"},e),z,x)};n.p,n(669);var H=function(e){var t=e.dishes,n=e.onUnselectDish,a=e.onMakeOrder,c=e.availableMoneyToOrder,s=void 0===c?51:c,l=t.reduce(function(e,t){return e+t.price},0),o=function(e,t){var n=e-t;return n>0?n:0}(l,s);return r.a.createElement("div",{className:"shopping-basket border"},r.a.createElement("h3",{className:"shopping-basket__title text-center"},"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430"),r.a.createElement("div",{className:"shopping-basket__payment text-center"},r.a.createElement("div",{className:"shopping-basket__payment-value"},r.a.createElement("span",null,l),r.a.createElement("span",{className:"shopping-basket__payment-money-unit"},"\u0433\u0440\u043d")),o>0&&r.a.createElement("div",{className:"overpayment text-danger"},r.a.createElement("span",{className:"overpayment__title"},"\u041f\u0435\u0440\u0435\u043f\u043b\u0430\u0442\u0430"),o,r.a.createElement("span",{className:"overpayment__money-unit"},"\u0433\u0440\u043d"))),r.a.createElement("div",{className:"shopping-basket__dishes"},t.map(function(e){return r.a.createElement(C,{key:e.id,isSelected:!0,dish:e,onUnselect:n})})),t.length>0&&r.a.createElement("div",{className:"text-right"},r.a.createElement(i.c,{className:"shopping-basket__order-button",color:"primary",onClick:a},"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c",r.a.createElement(A,{className:"shopping-basket__order-button-icon"}))))},P=n(654);function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var L=r.a.createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),T=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),B=function(e){return r.a.createElement("svg",U({width:24,height:24,viewBox:"0 0 24 24"},e),L,T)},F=(n.p,function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:n.props.defaultOpen},n.toggleOpen=function(){n.setState(function(e){return{isOpen:!e.isOpen}})},n}return Object(y.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.isOpen,t=this.props,n=t.className,a=t.headerClassName,c=t.caption,s=t.children;return r.a.createElement("div",{className:n},r.a.createElement("div",{className:"expander ".concat(a),onClick:this.toggleOpen,style:{cursor:"pointer"}},c," ",e?r.a.createElement(B,null):r.a.createElement(P.a,null)),r.a.createElement(i.e,{isOpen:e},r.a.createElement("div",{className:"expander__content"},s)))}}]),t}(r.a.Component));F.defaultProps={defaultOpen:!1};var I=F,J=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).handleSelectDish=function(e){n.onlySingleSelect&&n.isSomeDishSelected?alert("\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440 \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d!!!"):n.props.onSelect(e)},n}return Object(y.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dishes,a=t.selectedDishes,c=t.onUnselect;return n.map(function(t){var n=a.some(function(e){return e.id===t.id});return r.a.createElement(C,{key:t.id,dish:t,isSelected:n,disabled:e.onlySingleSelect&&e.isSomeDishSelected&&!n,onSelect:e.handleSelectDish,onUnselect:c})})}},{key:"onlySingleSelect",get:function(){return!this.props.canMultiSelect}},{key:"isSomeDishSelected",get:function(){var e=this;return this.props.dishes.some(function(t){return e.props.selectedDishes.includes(t)})}}]),t}(r.a.Component);J.defaultProps={canMultiSelect:!0};var V=J,W=(n(671),function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={selectedDishes:[],isOrdered:!1},n.handleOrder=Object(d.a)(h.a.mark(function e(){var t,a,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.onOrderLunch,r=t.menu,e.next=3,a(r.weekDay,{supplierName:n.getSelectedSupplier().name,dishes:n.state.selectedDishes});case 3:n.setState({selectedDishes:[],isOrdered:!0});case 4:case"end":return e.stop()}},e,this)})),n.handleSelectDish=function(e){var t=n.state.selectedDishes;t.some(function(t){var n=t.id;return e.id===n})||(t.push(e),n.setState({selectedDishes:t}))},n.handleUnselectDish=function(e){n.state.selectedDishes.some(function(t){var n=t.id;return e.id===n})&&n.setState(function(t){return{selectedDishes:t.selectedDishes.filter(function(t){return t.id!==e.id})}})},n}return Object(y.a)(t,e),Object(m.a)(t,[{key:"getSelectedSupplier",value:function(){var e=this;return this.props.menu.suppliers.find(function(t){return t.allDishes.some(function(t){return e.state.selectedDishes.includes(t)})})}},{key:"renderCategory",value:function(e){return r.a.createElement(I,{key:e.id,className:"meal-category border-bottom",headerClassName:"meal-category__title",caption:e.name},r.a.createElement("div",{className:"meal-category__dishes today-order-menu__dishes"},r.a.createElement(V,{canMultiSelect:e.canMultiSelect,dishes:e.dishes,selectedDishes:this.state.selectedDishes,onSelect:this.handleSelectDish,onUnselect:this.handleUnselectDish})))}},{key:"renderSupplier",value:function(e){var t=this,n=this.getSelectedSupplier(),a=!n||n.id===e.id;return r.a.createElement("div",{key:e.id,className:"supplier border"},r.a.createElement("div",{className:"supplier__title"},e.name),a&&e.categories.map(function(e){return t.renderCategory(e)}))}},{key:"render",value:function(){var e=this,t=this.props.menu.suppliers,n=this.state.isOrdered;return t.length>0?r.a.createElement(i.u,null,n?r.a.createElement(i.d,null,r.a.createElement(i.a,{color:"success"},"\u041e\u0431\u0435\u0434 \u0437\u0430\u043a\u0430\u0437\u0430\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e!")):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.d,{className:"today-order-menu",xs:{size:12,order:2},sm:{size:12,order:2},md:{size:8,order:1}},t.map(function(t){return e.renderSupplier(t)})),r.a.createElement(i.d,{xs:{size:12,order:1},sm:{size:12,order:1},md:{size:4,order:2}},r.a.createElement(H,{dishes:this.state.selectedDishes,onMakeOrder:this.handleOrder,availableMoneyToOrder:51,onUnselectDish:this.handleUnselectDish})))):null}}]),t}(r.a.Component)),q=n(658),G=(n(673),function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){n.props.isActive||n.props.onClick(n.props.day)},n}return Object(y.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.day,t=e.isHoliday,n=e.shortName,a=E()("day-tab",{"day-tab--holiday":t,"day-tab--active":this.props.isActive});return r.a.createElement(i.q,{className:a},r.a.createElement(i.r,{onClick:this.handleClick},r.a.createElement("div",{className:E()("day-tab__day-name",{"day-tab__day-name--holiday":t})},Object(q.a)(n))))}}]),t}(r.a.Component));var K=function(e){var t=e.days,n=e.activeDay,a=e.onSwitch;return r.a.createElement(i.p,{className:"my-4",tabs:!0},t.map(function(e){return r.a.createElement(G,{key:e.shortDate,day:e,isActive:e===n,onClick:a})}))},Q=(n(675),n(695));t.default=s()(o.a,Object(l.b)("orderPageStore"),l.c)(function(e){var t=e.orderPageStore,n=t.activeDay,a=t.nextWeekMenu,c=t.switchDay,s=t.orderLunch,l=t.myOrders;return a.length>0?r.a.createElement(i.u,null,r.a.createElement(i.d,null,r.a.createElement("h1",{className:"page-heading"},"\u0417\u0430\u043a\u0430\u0437 \u043e\u0431\u0435\u0434\u0430 \u043d\u0430 \u0431\u0443\u0434\u0443\u0449\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e"),r.a.createElement(K,{days:a.map(function(e){return e.weekDay}),activeDay:n,onSwitch:c}),r.a.createElement(i.v,{activeTab:n.shortName},a.map(function(e){var t=e.weekDay,n=t.shortName,a=t.isHoliday,c=t.shortDate,o=l.some(function(e){return e.day.shortDate===c});return r.a.createElement(i.w,{className:"py-2",key:c,tabId:n},!a&&(o?r.a.createElement(i.a,{color:"info"},"\u0412\u044b \u0443\u0436\u0435 \u0437\u0430\u043a\u0430\u0437\u0430\u043b\u0438 \u043e\u0431\u0435\u0434 \u043d\u0430 \u044d\u0442\u043e\u0442 \u0434\u0435\u043d\u044c ",r.a.createElement(Q.a,{to:"/week-order/"},"\u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435...")):r.a.createElement(W,{menu:e,onOrderLunch:s})),a&&r.a.createElement(i.a,{color:"info"},"\u0417\u0430\u043a\u0430\u0437 \u043e\u0431\u0435\u0434\u043e\u0432 \u043d\u0430 \u0432\u044b\u0445\u043e\u0434\u043d\u043e\u0439 \u0434\u0435\u043d\u044c \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d"))})))):r.a.createElement(i.u,{className:"my-4"},r.a.createElement(i.d,null,r.a.createElement(i.a,{color:"warning"},"\u0417\u0430\u043a\u0430\u0437 \u043e\u0431\u0435\u0434\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d! \u041e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u0435\u043d\u044e \u043e\u0442 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430...")))})}}]);
//# sourceMappingURL=2.c58490fc.chunk.js.map