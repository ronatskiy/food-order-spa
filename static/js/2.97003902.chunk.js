(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{50:function(e,t,a){"use strict";var n=a(5),r=a(11),s=a(13),c=a(12),i=a(14),l=a(1),o=a.n(l),u=a(4),h=a(15),m=function(e){var t=e.onLogin;return o.a.createElement(u.a,{className:"my-3",color:"danger"},o.a.createElement("div",null,"\u042d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c."),o.a.createElement("div",null,"\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435"," ",o.a.createElement(u.c,{onClick:t,size:"sm",color:"primary"},"\u0412\u0445\u043e\u0434")))};t.a=function(e){var t,a;return a=t=function(t){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(i.a)(a,t),Object(r.a)(a,[{key:"render",value:function(){return this.context.auth.isAuthenticated?o.a.createElement(e,Object.assign({},this.props,{onClick:this.handleClick})):o.a.createElement(m,{onLogin:this.context.auth.toggleAuth})}}]),a}(o.a.Component),t.contextType=h.a,a}},51:function(e,t,a){"use strict";var n=a(1),r=a.n(n);t.a=function(e){var t=e.className;return r.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))}},52:function(e,t,a){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,s=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(l){r=!0,s=l}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.d(t,"a",function(){return n})},58:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a.n(n),s=a(52),c=a(10),i=a(5),l=a(11),o=a(13),u=a(12),h=a(14),m=a(1),d=a.n(m),p=a(4),v=a(15);var f=a(50),y=(a(20),function(e){var t=e.className;return d.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},d.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),d.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}),E=function(e){var t=e.className;return d.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},d.a.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),d.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},g=(a(58),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._handleClick=function(){var e=a.props,t=e.isSelected,n=e.dish,r=e.onSelect,s=e.onUnselect;t?s(n):r(n)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dish,a=e.isSelected;return d.a.createElement("div",{className:"dish-selector"},d.a.createElement("span",{className:"dish-selector__name"},t.name),d.a.createElement("span",{className:"dish-selector__price"},t.price&&t.price),d.a.createElement("button",{className:"dish-selector__button",onClick:this._handleClick},a?d.a.createElement(E,{className:"dish-selector__icon dish-selector__icon--cancel"}):d.a.createElement(y,{className:"dish-selector__icon dish-selector__icon--add"})))}}]),t}(d.a.Component));g.defaultProps={onSelect:function(){},onUnselect:function(){}};var _=g,b=function(e){var t=e.className;return d.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},d.a.createElement("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),d.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},w=(a(60),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dishes,a=e.onUnselectDish,n=e.onMakeOrder;return d.a.createElement("div",{className:"shopping-basket border"},d.a.createElement("h3",{className:"shopping-basket__title text-center"},"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430"),d.a.createElement("div",{className:"shopping-basket__payment text-center"},d.a.createElement("div",{className:"shopping-basket__payment-value"},d.a.createElement("span",null,this._payment),d.a.createElement("span",{className:"shopping-basket__payment-money-unit"},"\u0433\u0440\u043d")),this._overpayment>0&&d.a.createElement("div",{className:"overpayment text-danger"},d.a.createElement("span",{className:"overpayment__title"},"\u041f\u0435\u0440\u0435\u043f\u043b\u0430\u0442\u0430"),this._overpayment,d.a.createElement("span",{className:"overpayment__money-unit"},"\u0433\u0440\u043d"))),d.a.createElement("div",{className:"shopping-basket__dishes"},t.map(function(e){return d.a.createElement(_,{key:e.id,isSelected:!0,dish:e,onUnselect:a})})),t.length>0&&d.a.createElement("div",{className:"text-right"},d.a.createElement(p.c,{className:"shopping-basket__order-button",color:"primary",onClick:n},"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c",d.a.createElement(b,{className:"shopping-basket__order-button-icon"}))))}},{key:"_payment",get:function(){return this.props.dishes.reduce(function(e,t){return e+t.price},0)}},{key:"_overpayment",get:function(){var e=this._payment-this.props.availableMoneyToOrder;return e>0?e:0}}]),t}(d.a.Component));w.defaultProps={availableMoneyToOrder:51};var O=w,k=(a(23),a(51)),N=function(e){var t=e.className;return d.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},d.a.createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),d.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:a.props.defaultOpen},a._toggleOpen=function(){a.setState(function(e){return{isOpen:!e.isOpen}})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.isOpen,t=this.props,a=t.className,n=t.headerClassName,r=t.caption,s=t.children;return d.a.createElement("div",{className:a},d.a.createElement("div",{className:"expander ".concat(n),onClick:this._toggleOpen,style:{cursor:"pointer"}},r," ",e?d.a.createElement(N,null):d.a.createElement(k.a,null)),d.a.createElement(p.e,{isOpen:e},d.a.createElement("div",{className:"expander__content"},s)))}}]),t}(d.a.Component);j.defaultProps={defaultOpen:!1};var x=j,D=(a(62),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={selectedDishes:[],isOrdered:!1},a._handleOrder=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.context.longOperation(function(){return a.context.webApi.orderLunch(a.state.selectedDishes||[])});case 3:a.setState({selectedDishes:[],isOrdered:!0}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:case"end":return e.stop()}},e,this,[[0,6]])})),a._handleSelectDish=function(e){var t=a.state.selectedDishes;t.some(function(t){var a=t.id;return e.id===a})||(t.push(e),a.setState({selectedDishes:t}))},a._handleUnselectDish=function(e){a.state.selectedDishes.some(function(t){var a=t.id;return e.id===a})&&a.setState(function(t){return{selectedDishes:t.selectedDishes.filter(function(t){return t.id!==e.id})}})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"_renderDishes",value:function(e){var t=this;return e&&e.length?e.map(function(e){var a=t.state.selectedDishes.some(function(t){return t.id===e.id});return d.a.createElement(_,{key:e.id,isSelected:a,dish:e,onSelect:t._handleSelectDish,onUnselect:t._handleUnselectDish})}):null}},{key:"_renderCategory",value:function(e){return d.a.createElement(x,{key:e.id,className:"meal-category border-bottom",headerClassName:"meal-category__title",caption:e.name},d.a.createElement("div",{className:"meal-category__dishes"},this._renderDishes(e.dishes)))}},{key:"_renderSupplier",value:function(e){var t=this;return d.a.createElement("div",{key:e.id,className:"provider"},d.a.createElement("div",{className:"provider__title"},e.name),e.categories.map(function(e){return t._renderCategory(e)}))}},{key:"render",value:function(){var e=this,t=this.props.menu.suppliers,a=this.state.isOrdered;return t.length>0?d.a.createElement(p.l,null,a?d.a.createElement(p.d,null,d.a.createElement(p.a,{color:"success"},"\u041e\u0431\u0435\u0434 \u0437\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e!")):d.a.createElement(d.a.Fragment,null,d.a.createElement(p.d,{sm:{size:12,order:2},md:{size:8,order:1}},t.map(function(t){return e._renderSupplier(t)})),d.a.createElement(p.d,{sm:{size:12,order:1},md:{size:4,order:2}},d.a.createElement(O,{dishes:this.state.selectedDishes,onMakeOrder:this._handleOrder,availableMoneyToOrder:51,onUnselectDish:this._handleUnselectDish})))):null}}]),t}(d.a.Component));D.contextType=v.a;a(64);var M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={weekMenu:[],selectedDay:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n,c,i,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context,a=t.longOperation,n=t.webApi,e.prev=1,e.next=4,a(function(){return n.getWeekMenu()});case 4:c=e.sent,i=Object(s.a)(c,1),l=i[0],this.setState({weekMenu:c}),this._switchDay(l.day.shortName),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.message);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"_switchDay",value:function(e){this.state.selectedDay!==e&&this.setState({selectedDay:e})}},{key:"render",value:function(){var e=this;return this.state.weekMenu.length>0?d.a.createElement(p.l,null,d.a.createElement(p.d,null,d.a.createElement(p.g,{className:"my-4",tabs:!0},this.state.weekMenu.map(function(t){var a=t.day.shortName;return d.a.createElement(p.h,{key:a},d.a.createElement(p.i,{className:a===e.state.selectedDay?"active":"",onClick:function(){e._switchDay(a)}},function(e){return"Mon"===e?"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a":"Tue"===e?"\u0412\u0442\u043e\u0440\u043d\u0438\u043a":"Wed"===e?"\u0421\u0440\u0435\u0434\u0430":"Thu"===e?"\u0427\u0435\u0442\u0432\u0435\u0440\u0433":"Fri"===e?"\u041f\u044f\u0442\u043d\u0438\u0446\u0430":"\u0412\u044b\u0445\u043e\u0434\u043d\u043e\u0439"}(a)))})),d.a.createElement(p.m,{activeTab:this.state.selectedDay},this.state.weekMenu.map(function(e){var t=e.day.shortName;return d.a.createElement(p.n,{key:t,tabId:t},e&&d.a.createElement(D,{menu:e}))})))):d.a.createElement(p.l,{className:"my-4"},d.a.createElement(p.d,null,d.a.createElement(p.a,{color:"warning"},"\u0417\u0430\u043a\u0430\u0437 \u043e\u0431\u0435\u0434\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d! \u041e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u0435\u043d\u044e \u043e\u0442 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430...")))}}]),t}(d.a.Component);M.contextType=v.a;t.default=Object(f.a)(M)}}]);
//# sourceMappingURL=2.97003902.chunk.js.map