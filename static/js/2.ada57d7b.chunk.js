(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{104:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n.n(a),s=n(85),c=n(15),i=n(4),l=n(5),o=n(20),u=n(19),h=n(21),d=n(1),p=n.n(d),m=n(7),v=n(83),f=n(11),y=n(2),b=n.n(y);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var E=p.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),g=p.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),S=function(e){return p.a.createElement("svg",O({width:24,height:24,viewBox:"0 0 24 24"},e),E,g)};n.p;function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var k=p.a.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),_=p.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),w=function(e){return p.a.createElement("svg",j({width:24,height:24,viewBox:"0 0 24 24"},e),k,_)},N=(n.p,n(90),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=n.props,t=e.isSelected,a=e.dish,r=e.onSelect,s=e.onUnselect;t?s(a):r(a)},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,a=e.dish,r=e.isSelected,s=e.disabled;return p.a.createElement("div",{className:b()("dish-selector",{"dish-selector--disabled":s},n),onClick:this.handleClick},p.a.createElement("span",{className:"dish-selector__name"},a.name),a.price>0&&p.a.createElement("span",{className:"dish-selector__price"},a.price,p.a.createElement("span",{className:"dish-selector__money-unit"},"\u0433\u0440\u043d")),p.a.createElement("span",{className:"dish-selector__button"},r?p.a.createElement(w,{className:"dish-selector__icon dish-selector__icon--cancel"}):p.a.createElement(S,{className:"dish-selector__icon dish-selector__icon--add"})))}}]),t}(p.a.Component));N.defaultProps={className:"",isSelected:!1,disabled:!1,onSelect:function(){},onUnselect:function(){}};var D=N;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var C=p.a.createElement("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),z=p.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),x=function(e){return p.a.createElement("svg",M({width:24,height:24,viewBox:"0 0 24 24"},e),C,z)};n.p,n(92);var A=function(e){var t=e.dishes,n=e.onUnselectDish,a=e.onMakeOrder,r=e.availableMoneyToOrder,s=void 0===r?51:r,c=t.reduce(function(e,t){return e+t.price},0),i=function(e,t){var n=e-t;return n>0?n:0}(c,s);return p.a.createElement("div",{className:"shopping-basket border"},p.a.createElement("h3",{className:"shopping-basket__title text-center"},"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430"),p.a.createElement("div",{className:"shopping-basket__payment text-center"},p.a.createElement("div",{className:"shopping-basket__payment-value"},p.a.createElement("span",null,c),p.a.createElement("span",{className:"shopping-basket__payment-money-unit"},"\u0433\u0440\u043d")),i>0&&p.a.createElement("div",{className:"overpayment text-danger"},p.a.createElement("span",{className:"overpayment__title"},"\u041f\u0435\u0440\u0435\u043f\u043b\u0430\u0442\u0430"),i,p.a.createElement("span",{className:"overpayment__money-unit"},"\u0433\u0440\u043d"))),p.a.createElement("div",{className:"shopping-basket__dishes"},t.map(function(e){return p.a.createElement(D,{key:e.id,isSelected:!0,dish:e,onUnselect:n})})),t.length>0&&p.a.createElement("div",{className:"text-right"},p.a.createElement(m.c,{className:"shopping-basket__order-button",color:"primary",onClick:a},"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c",p.a.createElement(x,{className:"shopping-basket__order-button-icon"}))))},H=n(84);function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var L=p.a.createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),P=p.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),T=function(e){return p.a.createElement("svg",U({width:24,height:24,viewBox:"0 0 24 24"},e),L,P)},B=(n.p,function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:n.props.defaultOpen},n.toggleOpen=function(){n.setState(function(e){return{isOpen:!e.isOpen}})},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.isOpen,t=this.props,n=t.className,a=t.headerClassName,r=t.caption,s=t.children;return p.a.createElement("div",{className:n},p.a.createElement("div",{className:"expander ".concat(a),onClick:this.toggleOpen,style:{cursor:"pointer"}},r," ",e?p.a.createElement(T,null):p.a.createElement(H.a,null)),p.a.createElement(m.e,{isOpen:e},p.a.createElement("div",{className:"expander__content"},s)))}}]),t}(p.a.Component));B.defaultProps={defaultOpen:!1};var F=B,I=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSelectDish=function(e){n.onlySingleSelect&&n.isSomeDishSelected?alert("\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440 \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d!!!"):n.props.onSelect(e)},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dishes,a=t.selectedDishes,r=t.onUnselect;return n.map(function(t){var n=a.some(function(e){return e.id===t.id});return p.a.createElement(D,{key:t.id,dish:t,isSelected:n,disabled:e.onlySingleSelect&&e.isSomeDishSelected&&!n,onSelect:e.handleSelectDish,onUnselect:r})})}},{key:"onlySingleSelect",get:function(){return!this.props.canMultiSelect}},{key:"isSomeDishSelected",get:function(){var e=this;return this.props.dishes.some(function(t){return e.props.selectedDishes.includes(t)})}}]),t}(p.a.Component);I.defaultProps={canMultiSelect:!0};var J,V=I,W=(n(94),Object(f.b)("rootStore")(J=Object(f.c)(J=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={selectedDishes:[],isOrdered:!1},n.handleOrder=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.rootStore.longOperation(function(){return n.props.rootStore.orderService.orderLunch(n.state.selectedDishes||[])});case 3:n.setState({selectedDishes:[],isOrdered:!0}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}},e,this,[[0,6]])})),n.handleSelectDish=function(e){var t=n.state.selectedDishes;t.some(function(t){var n=t.id;return e.id===n})||(t.push(e),n.setState({selectedDishes:t}))},n.handleUnselectDish=function(e){n.state.selectedDishes.some(function(t){var n=t.id;return e.id===n})&&n.setState(function(t){return{selectedDishes:t.selectedDishes.filter(function(t){return t.id!==e.id})}})},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"getSelectedSupplier",value:function(){var e=this;return this.props.menu.suppliers.find(function(t){return t.allDishes.some(function(t){return e.state.selectedDishes.includes(t)})})}},{key:"renderCategory",value:function(e){return p.a.createElement(F,{key:e.id,className:"meal-category border-bottom",headerClassName:"meal-category__title",caption:e.name},p.a.createElement("div",{className:"meal-category__dishes today-order-menu__dishes"},p.a.createElement(V,{canMultiSelect:e.canMultiSelect,dishes:e.dishes,selectedDishes:this.state.selectedDishes,onSelect:this.handleSelectDish,onUnselect:this.handleUnselectDish})))}},{key:"renderSupplier",value:function(e){var t=this,n=this.getSelectedSupplier(),a=!n||n.id===e.id;return p.a.createElement("div",{key:e.id,className:"supplier border"},p.a.createElement("div",{className:"supplier__title"},e.name),a&&e.categories.map(function(e){return t.renderCategory(e)}))}},{key:"render",value:function(){var e=this,t=this.props.menu.suppliers,n=this.state.isOrdered;return t.length>0?p.a.createElement(m.l,null,n?p.a.createElement(m.d,null,p.a.createElement(m.a,{color:"success"},"\u041e\u0431\u0435\u0434 \u0437\u0430\u043a\u0430\u0437\u0430\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e!")):p.a.createElement(p.a.Fragment,null,p.a.createElement(m.d,{className:"today-order-menu",xs:{size:12,order:2},sm:{size:12,order:2},md:{size:8,order:1}},t.map(function(t){return e.renderSupplier(t)})),p.a.createElement(m.d,{xs:{size:12,order:1},sm:{size:12,order:1},md:{size:4,order:2}},p.a.createElement(A,{dishes:this.state.selectedDishes,onMakeOrder:this.handleOrder,availableMoneyToOrder:51,onUnselectDish:this.handleUnselectDish})))):null}}]),t}(p.a.Component))||J)||J);n(96);var q=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){n.props.isActive||n.props.onClick(n.props.day.shortName)},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this.props.day,n=t.isHoliday,a=t.shortName,r=b()("day-tab",{"day-tab--holiday":n,"day-tab--active":this.props.isActive});return p.a.createElement(m.h,{className:r},p.a.createElement(m.i,{onClick:this.handleClick},p.a.createElement("div",{className:b()("day-tab__day-name",{"day-tab__day-name--holiday":n})},"Mon"===(e=a)?"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a":"Tue"===e?"\u0412\u0442\u043e\u0440\u043d\u0438\u043a":"Wed"===e?"\u0421\u0440\u0435\u0434\u0430":"Thu"===e?"\u0427\u0435\u0442\u0432\u0435\u0440\u0433":"Fri"===e?"\u041f\u044f\u0442\u043d\u0438\u0446\u0430":"\u0412\u044b\u0445\u043e\u0434\u043d\u043e\u0439")))}}]),t}(p.a.Component);var G=function(e){var t=e.days,n=e.activeDay,a=e.onSwitch;return p.a.createElement(m.g,{className:"my-4",tabs:!0},t.map(function(e){var t=e.shortName;return p.a.createElement(q,{key:t,day:e,isActive:t===n,onClick:a})}))},K=(n(98),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={weekMenu:[],selectedDay:""},n.switchDay=function(e){n.state.selectedDay!==e&&n.setState({selectedDay:e})},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark(function e(){var t,n,a,c,i,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.rootStore,n=t.longOperation,a=t.dishMenuService,e.next=4,n(function(){return a.getWeekMenu()});case 4:c=e.sent,i=Object(s.a)(c,1),l=i[0],this.setState({weekMenu:c}),this.switchDay(l.day.shortName),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.weekMenu.length>0?p.a.createElement(m.l,null,p.a.createElement(m.d,null,p.a.createElement(G,{days:this.state.weekMenu.map(function(e){return e.day}),activeDay:this.state.selectedDay,onSwitch:this.switchDay}),p.a.createElement(m.m,{activeTab:this.state.selectedDay},this.state.weekMenu.map(function(e){var t=e.day,n=t.shortName,a=t.isHoliday;return p.a.createElement(m.n,{className:"py-2",key:n,tabId:n},!a&&e&&p.a.createElement(W,{menu:e}),a&&p.a.createElement(m.a,{color:"info"},"\u0417\u0430\u043a\u0430\u0437 \u043e\u0431\u0435\u0434\u043e\u0432 \u043d\u0430 \u0432\u044b\u0445\u043e\u0434\u043d\u043e\u0439 \u0434\u0435\u043d\u044c \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d"))})))):p.a.createElement(m.l,{className:"my-4"},p.a.createElement(m.d,null,p.a.createElement(m.a,{color:"warning"},"\u0417\u0430\u043a\u0430\u0437 \u043e\u0431\u0435\u0434\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d! \u041e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u0435\u043d\u044e \u043e\u0442 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430...")))}}]),t}(p.a.Component));t.default=Object(v.a)(K)},83:function(e,t,n){"use strict";var a=n(4),r=n(5),s=n(20),c=n(19),i=n(21),l=n(1),o=n.n(l),u=n(7),h=n(11),d=function(e){var t=e.onLogin;return o.a.createElement(u.a,{className:"my-3",color:"danger"},o.a.createElement("div",null,"\u042d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c."),o.a.createElement("div",null,"\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435"," ",o.a.createElement(u.c,{onClick:t,size:"sm",color:"primary"},"\u0412\u0445\u043e\u0434")))};t.a=function(e){return Object(h.b)("rootStore")(Object(h.c)(function(t){function n(){return Object(a.a)(this,n),Object(s.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(i.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){var t=this;return this.props.rootStore.identity.isAuthenticated?o.a.createElement(e,this.props):o.a.createElement(d,{onLogin:function(){return t.props.rootStore.authService.login()}})}}]),n}(o.a.Component)))}},84:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(1),r=n.n(a);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var c=r.a.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),i=r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),l=function(e){return r.a.createElement("svg",s({width:24,height:24,viewBox:"0 0 24 24"},e),c,i)};n.p},85:function(e,t,n){"use strict";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,s=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(l){r=!0,s=l}finally{try{a||null==i.return||i.return()}finally{if(r)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",function(){return a})},90:function(e,t,n){},92:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){},98:function(e,t,n){}}]);
//# sourceMappingURL=2.ada57d7b.chunk.js.map