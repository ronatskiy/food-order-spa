(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{105:function(e,t,a){"use strict";a.r(t);var r=a(8),n=a.n(r),l=a(15),c=a(4),s=a(5),i=a(20),o=a(19),u=a(21),d=a(1),m=a.n(d),p=a(7),h=a(84),f=a(107),E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(n)))).handleClick=function(){alert("\u0412\u044b \u0437\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u043e\u0431\u0435\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f "+a.props.name+"\n\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0438 \u043d\u0430\u043c\u0435\u0440\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0437\u0430\u043a\u0430\u0437\u0430."),a.props.history.push("/my-order")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return m.a.createElement(p.c,{color:"primary",onClick:this.handleClick},"\u0417\u0430\u0431\u0440\u0430\u0442\u044c \u0441\u0435\u0431\u0435")}}]),t}(m.a.Component),v=Object(f.a)(E),y=(a(86),function(e){var t=e.dish;return m.a.createElement("div",{className:"dish-view px-2"},m.a.createElement("span",{className:"dish-view__name"},t.name),t.price>0&&m.a.createElement("span",{className:"dish-view__price"},m.a.createElement("span",{className:"dish-view__price-value"},t.price),m.a.createElement("span",{className:"dish-view__money-unit"},"\u0433\u0440\u043d")))}),O=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(n)))).state={expanded:!1},a.toggle=function(){a.setState(function(e){return{expanded:!e.expanded}})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.sharedTodayOrders,t=e.length;return m.a.createElement(p.a,{color:"warning"},m.a.createElement("div",null,"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0435\u0441\u0442\u044c \u0435\u0434\u0430 \u0432 \u043e\u0431\u0449\u0435\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u0435!"),m.a.createElement("div",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0430\u0441\u0448\u0430\u0440\u0435\u043d\u043d\u044b\u0445 \u043e\u0431\u0435\u0434\u043e\u0432"," ",m.a.createElement(p.b,{color:"light",pill:!0},t)),m.a.createElement("div",null,m.a.createElement("span",{className:"alert-link caret",onClick:this.toggle},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",m.a.createElement(h.a,null))),m.a.createElement(p.e,{isOpen:this.state.expanded},m.a.createElement(p.o,{className:"mt-4",bordered:!0,responsive:!0,size:"sm"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"\u0418\u043c\u044f"),m.a.createElement("th",null,"\u0417\u0430\u043a\u0430\u0437"),m.a.createElement("th",null))),m.a.createElement("tbody",null,e.map(function(e){var t=e.userName,a=e.order;return m.a.createElement("tr",{key:t},m.a.createElement("td",null,t),m.a.createElement("td",null,a&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"today-orders-table__supplier-name px-2"},m.a.createElement("strong",null,a.supplierName)),a.dishes.length>0&&a.dishes.map(function(e){return m.a.createElement(y,{key:e.id,dish:e})}))),m.a.createElement("td",{className:"text-right"},m.a.createElement(v,{name:t})))})))))}}]),t}(m.a.Component),b=(a(88),function(e){var t=e.todayOrders;return m.a.createElement("section",{className:"mt-4"},m.a.createElement("div",{className:"my-2"},"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0437\u0430\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u0435\u0434\u043e\u0432 \u043d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"),m.a.createElement(p.o,{className:"today-orders-table",responsive:!0,bordered:!0,striped:!0,size:"sm"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"\u0418\u043c\u044f"),m.a.createElement("th",null,"\u0417\u0430\u043a\u0430\u0437"))),m.a.createElement("tbody",null,t.map(function(e){var t=e.userName,a=e.order;return m.a.createElement("tr",{key:t},m.a.createElement("td",null,t),m.a.createElement("td",null,a&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"today-orders-table__supplier-name px-2"},m.a.createElement("strong",null,a.supplierName)),a.dishes.length>0&&a.dishes.map(function(e){return m.a.createElement(y,{key:e.id,dish:e})}))))}))))}),g=a(28),j=a(85),w=a(39);var N,k=function(e){return e?e.map(function(e){var t=e.userName,a=e.suppliers,r=Object(j.a)(a,1)[0];return{userName:t,order:{supplierId:r.supplierId,supplierName:r.supplierName,dishes:r.categories.reduce(function(e,t){return Object(g.a)(e).concat(Object(g.a)(t.dishes.map(function(e){return new w.a(e)})))},[])}}}):[]},x=a(11),_=Object(x.b)("rootStore")(N=Object(x.c)(N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(n)))).state={todayOrders:[],sharedTodayOrders:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(n.a.mark(function e(){var t,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.rootStore.fetchTodayOrders();case 3:return t=e.sent,e.next=6,this.props.rootStore.fetchSharedTodayOrders();case 6:a=e.sent,this.setState({todayOrders:k(t||[]),sharedTodayOrders:k(a||[])}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,this.state.sharedTodayOrders.length>0&&m.a.createElement(p.l,{className:"mt-3"},m.a.createElement(p.d,null,m.a.createElement(O,{sharedTodayOrders:this.state.sharedTodayOrders}))),this.state.todayOrders.length>0&&m.a.createElement(b,{todayOrders:this.state.todayOrders}))}}]),t}(m.a.Component))||N)||N;t.default=_},84:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var r=a(1),n=a.n(r);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var c=n.a.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),s=n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i=function(e){return n.a.createElement("svg",l({width:24,height:24,viewBox:"0 0 24 24"},e),c,s)};a.p},85:function(e,t,a){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,l=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(i){n=!0,l=i}finally{try{r||null==s.return||s.return()}finally{if(n)throw l}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.d(t,"a",function(){return r})},86:function(e,t,a){},88:function(e,t,a){}}]);
//# sourceMappingURL=1.390e9b52.chunk.js.map