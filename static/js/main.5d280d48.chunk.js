(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{280:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n,a=r(86),o=r(1),i=r.n(o),c=r(20),s=r(11),u="name",p="password",l=(n={},Object(a.a)(n,u,{name:u,label:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044f",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, John Doe",rules:"required|string|between:3,25"}),Object(a.a)(n,p,{name:p,label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, ******",rules:"required|string|alpha_num|between:5,15"}),n),d=Object(c.c)(function(e){var t=e.form,r=t.$(u),n=r.error,a=Boolean(n),o=t.$(p),c=o.error,l=Boolean(c);return i.a.createElement(s.j,null,i.a.createElement(s.l,null,i.a.createElement(s.o,{htmlFor:r.id},r.label),i.a.createElement(s.n,Object.assign({},r.bind(),{invalid:a,valid:r.isDirty&&!a})),i.a.createElement(s.k,{valid:!a},n)),i.a.createElement(s.l,null,i.a.createElement(s.o,{htmlFor:o.id},o.label),i.a.createElement(s.n,Object.assign({},o.bind({type:"password"}),{invalid:l,valid:o.isDirty&&!l})),i.a.createElement(s.k,{valid:!l},c)),i.a.createElement(s.c,{type:"submit",disabled:t.isEmpty||!t.isValid,onClick:t.onSubmit,style:{width:"100%"}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))});t.b=d},339:function(e,t,r){e.exports=r(652)},347:function(e,t,r){},349:function(e,t,r){},351:function(e,t,r){},353:function(e,t,r){},528:function(e,t,r){var n={"./ar":234,"./ar.js":234,"./az":235,"./az.js":235,"./be":236,"./be.js":236,"./bg":237,"./bg.js":237,"./bs":238,"./bs.js":238,"./ca":239,"./ca.js":239,"./cs":240,"./cs.js":240,"./cy":241,"./cy.js":241,"./da":242,"./da.js":242,"./de":243,"./de.js":243,"./el":244,"./el.js":244,"./en":152,"./en.js":152,"./es":245,"./es.js":245,"./et":246,"./et.js":246,"./eu":247,"./eu.js":247,"./fa":248,"./fa.js":248,"./fi":249,"./fi.js":249,"./fr":250,"./fr.js":250,"./hr":251,"./hr.js":251,"./hu":252,"./hu.js":252,"./id":253,"./id.js":253,"./it":254,"./it.js":254,"./ja":255,"./ja.js":255,"./ka":256,"./ka.js":256,"./ko":257,"./ko.js":257,"./lt":258,"./lt.js":258,"./lv":259,"./lv.js":259,"./mk":260,"./mk.js":260,"./mn":261,"./mn.js":261,"./ms":262,"./ms.js":262,"./nb_NO":263,"./nb_NO.js":263,"./nl":264,"./nl.js":264,"./pl":265,"./pl.js":265,"./pt":266,"./pt.js":266,"./pt_BR":267,"./pt_BR.js":267,"./ro":268,"./ro.js":268,"./ru":269,"./ru.js":269,"./sl":270,"./sl.js":270,"./sq":271,"./sq.js":271,"./sr":272,"./sr.js":272,"./sv":273,"./sv.js":273,"./tr":274,"./tr.js":274,"./ua":275,"./ua.js":275,"./uk":276,"./uk.js":276,"./vi":277,"./vi.js":277,"./zh":278,"./zh.js":278,"./zh_TW":279,"./zh_TW.js":279};function a(e){var t=o(e);return r(t)}function o(e){var t=n[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=528},553:function(e,t){},555:function(e,t){},590:function(e,t){},591:function(e,t){},650:function(e,t,r){},652:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),o=r(28),i=r.n(o),c=r(2),s=r(20),u=r(699),p=r(5),l=r(7),d=r(17),h=r(16),b=r(18),f=r(701),y=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(a.a.Component),O=Object(f.a)(y),m=r(11),v={isProduction:!0,isAuthenticated:"true"===Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_BACKEND_DOMAIN:"https://food-order-17x1tjabhuu2.runkit.sh/",REACT_APP_JWT_SECRET:"supaer-secrett-keyya",REACT_APP_TIME_UPDATE_INTERVAL:"5"}).REACT_APP_IS_AUTHENTICATED,backendDomain:"https://food-order-17x1tjabhuu2.runkit.sh/",secret:"supaer-secrett-keyya",timeUpdateInterval:Number("5")},j=r(338),g=r(694),w=r(700),k=function(e){var t=e.component,r=e.isAuthenticated,n=void 0!==r&&r,o=e.isCurrentUserAdmin,i=void 0!==o&&o,c=e.isPrivate,s=void 0!==c&&c,u=e.onlyForAdmins,p=void 0!==u&&u,l=Object(j.a)(e,["component","isAuthenticated","isCurrentUserAdmin","isPrivate","onlyForAdmins"]);return a.a.createElement(g.a,Object.assign({},l,{render:function(e){return p&&!i?a.a.createElement(w.a,{to:{pathname:"/"}}):s&&!n?a.a.createElement(w.a,{to:{pathname:"/login",state:{from:e.location}}}):a.a.createElement(t,null)}}))},E=r(13),S=r(30),x=r(4),D=(r(43),r(695));function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var M,A,T,W=a.a.createElement("path",{d:"M55,27.5C55,12.337,42.663,0,27.5,0S0,12.337,0,27.5c0,8.009,3.444,15.228,8.926,20.258l-0.026,0.023l0.892,0.752  c0.058,0.049,0.121,0.089,0.179,0.137c0.474,0.393,0.965,0.766,1.465,1.127c0.162,0.117,0.324,0.234,0.489,0.348  c0.534,0.368,1.082,0.717,1.642,1.048c0.122,0.072,0.245,0.142,0.368,0.212c0.613,0.349,1.239,0.678,1.88,0.98  c0.047,0.022,0.095,0.042,0.142,0.064c2.089,0.971,4.319,1.684,6.651,2.105c0.061,0.011,0.122,0.022,0.184,0.033  c0.724,0.125,1.456,0.225,2.197,0.292c0.09,0.008,0.18,0.013,0.271,0.021C25.998,54.961,26.744,55,27.5,55  c0.749,0,1.488-0.039,2.222-0.098c0.093-0.008,0.186-0.013,0.279-0.021c0.735-0.067,1.461-0.164,2.178-0.287  c0.062-0.011,0.125-0.022,0.187-0.034c2.297-0.412,4.495-1.109,6.557-2.055c0.076-0.035,0.153-0.068,0.229-0.104  c0.617-0.29,1.22-0.603,1.811-0.936c0.147-0.083,0.293-0.167,0.439-0.253c0.538-0.317,1.067-0.648,1.581-1  c0.185-0.126,0.366-0.259,0.549-0.391c0.439-0.316,0.87-0.642,1.289-0.983c0.093-0.075,0.193-0.14,0.284-0.217l0.915-0.764  l-0.027-0.023C51.523,42.802,55,35.55,55,27.5z M2,27.5C2,13.439,13.439,2,27.5,2S53,13.439,53,27.5  c0,7.577-3.325,14.389-8.589,19.063c-0.294-0.203-0.59-0.385-0.893-0.537l-8.467-4.233c-0.76-0.38-1.232-1.144-1.232-1.993v-2.957  c0.196-0.242,0.403-0.516,0.617-0.817c1.096-1.548,1.975-3.27,2.616-5.123c1.267-0.602,2.085-1.864,2.085-3.289v-3.545  c0-0.867-0.318-1.708-0.887-2.369v-4.667c0.052-0.519,0.236-3.448-1.883-5.864C34.524,9.065,31.541,8,27.5,8  s-7.024,1.065-8.867,3.168c-2.119,2.416-1.935,5.345-1.883,5.864v4.667c-0.568,0.661-0.887,1.502-0.887,2.369v3.545  c0,1.101,0.494,2.128,1.34,2.821c0.81,3.173,2.477,5.575,3.093,6.389v2.894c0,0.816-0.445,1.566-1.162,1.958l-7.907,4.313  c-0.252,0.137-0.502,0.297-0.752,0.476C5.276,41.792,2,35.022,2,27.5z M42.459,48.132c-0.35,0.254-0.706,0.5-1.067,0.735  c-0.166,0.108-0.331,0.216-0.5,0.321c-0.472,0.292-0.952,0.57-1.442,0.83c-0.108,0.057-0.217,0.111-0.326,0.167  c-1.126,0.577-2.291,1.073-3.488,1.476c-0.042,0.014-0.084,0.029-0.127,0.043c-0.627,0.208-1.262,0.393-1.904,0.552  c-0.002,0-0.004,0.001-0.006,0.001c-0.648,0.16-1.304,0.293-1.964,0.402c-0.018,0.003-0.036,0.007-0.054,0.01  c-0.621,0.101-1.247,0.174-1.875,0.229c-0.111,0.01-0.222,0.017-0.334,0.025C28.751,52.97,28.127,53,27.5,53  c-0.634,0-1.266-0.031-1.895-0.078c-0.109-0.008-0.218-0.015-0.326-0.025c-0.634-0.056-1.265-0.131-1.89-0.233  c-0.028-0.005-0.056-0.01-0.084-0.015c-1.322-0.221-2.623-0.546-3.89-0.971c-0.039-0.013-0.079-0.027-0.118-0.04  c-0.629-0.214-1.251-0.451-1.862-0.713c-0.004-0.002-0.009-0.004-0.013-0.006c-0.578-0.249-1.145-0.525-1.705-0.816  c-0.073-0.038-0.147-0.074-0.219-0.113c-0.511-0.273-1.011-0.568-1.504-0.876c-0.146-0.092-0.291-0.185-0.435-0.279  c-0.454-0.297-0.902-0.606-1.338-0.933c-0.045-0.034-0.088-0.07-0.133-0.104c0.032-0.018,0.064-0.036,0.096-0.054l7.907-4.313  c1.36-0.742,2.205-2.165,2.205-3.714l-0.001-3.602l-0.23-0.278c-0.022-0.025-2.184-2.655-3.001-6.216l-0.091-0.396l-0.341-0.221  c-0.481-0.311-0.769-0.831-0.769-1.392v-3.545c0-0.465,0.197-0.898,0.557-1.223l0.33-0.298v-5.57l-0.009-0.131  c-0.003-0.024-0.298-2.429,1.396-4.36C21.583,10.837,24.061,10,27.5,10c3.426,0,5.896,0.83,7.346,2.466  c1.692,1.911,1.415,4.361,1.413,4.381l-0.009,5.701l0.33,0.298c0.359,0.324,0.557,0.758,0.557,1.223v3.545  c0,0.713-0.485,1.36-1.181,1.575l-0.497,0.153l-0.16,0.495c-0.59,1.833-1.43,3.526-2.496,5.032c-0.262,0.37-0.517,0.698-0.736,0.949  l-0.248,0.283V39.8c0,1.612,0.896,3.062,2.338,3.782l8.467,4.233c0.054,0.027,0.107,0.055,0.16,0.083  C42.677,47.979,42.567,48.054,42.459,48.132z",fill:"#FFFFFF"}),N=function(e){return a.a.createElement("svg",P({x:0,y:0,width:55,height:55,viewBox:"0 0 55 55"},e),W)},_=(r.p,r(347),function(e){var t=e.name;return a.a.createElement("div",{className:"user"},a.a.createElement(N,{className:"user__logo"}),a.a.createElement("span",{className:"user__name"},t))}),U=(r(349),Object(s.b)(function(e){return{appStore:e.appStore,myOrderStore:e.myOrderStore}})(M=Object(s.c)((A=function(e){function t(){var e,r;Object(p.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a))),Object(E.a)(r,"isOpen",T,Object(S.a)(Object(S.a)(r))),r.toggle=Object(c.action)(function(){r.isOpen=!r.isOpen}),r.handleLogout=Object(c.action)(function(){r.props.appStore.identity.logout()}),r}return Object(b.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.className,t=this.props.appStore.identity,r=this.props.myOrderStore.canOrder;return a.a.createElement("header",{className:"header ".concat(e)},a.a.createElement(m.f,{className:"px-0"},a.a.createElement(m.s,{dark:!0,expand:"md"},a.a.createElement(D.a,{className:"navbar-brand",to:"/"},"\u0413\u043e\u0440\u044f\u0447\u0438\u0435 \u043e\u0431\u0435\u0434\u044b"),a.a.createElement(m.t,{onClick:this.toggle}),a.a.createElement(m.e,{isOpen:this.isOpen,navbar:!0},a.a.createElement(m.p,{className:"ml-auto mr-auto",navbar:!0},r&&a.a.createElement(m.q,null,a.a.createElement(D.a,{className:"nav-link",to:"/order/"},"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0431\u0435\u0434")),a.a.createElement(m.q,null,a.a.createElement(D.a,{className:"nav-link",to:"/week-order/"},"\u0417\u0430\u043a\u0430\u0437 \u043d\u0430 \u043d\u0435\u0434\u0435\u043b\u044e")),a.a.createElement(m.q,null,a.a.createElement(D.a,{className:"nav-link",to:"/my-order/"},"\u041c\u043e\u0439 \u043e\u0431\u0435\u0434"))),a.a.createElement(m.p,{navbar:!0},!t.isAuthenticated&&a.a.createElement(m.q,null,a.a.createElement(D.a,{className:"nav-link",to:"/login/"},"\u0412\u0445\u043e\u0434")),t.isAuthenticated&&a.a.createElement(m.y,{nav:!0,inNavbar:!0},a.a.createElement(m.i,{nav:!0,caret:!0},a.a.createElement(_,{name:t.currentUser.fullName})),a.a.createElement(m.h,{right:!0},a.a.createElement(m.g,{disabled:!0},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),a.a.createElement(m.g,{divider:!0}),a.a.createElement(m.g,{onClick:this.handleLogout},"\u0412\u044b\u0445\u043e\u0434"))))))))}}]),t}(a.a.Component),T=Object(x.a)(A.prototype,"isOpen",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=A))||M)||M),C=function(e){var t=e.className;return a.a.createElement("footer",{className:"footer ".concat(t)},a.a.createElement(m.f,null,"\xa9 2018 Murano Hackathon Food order group"))};r(351);var I=function(){return a.a.createElement("div",{className:"ellipsis-loader-overlay"},a.a.createElement("div",{className:"ellipsis-loader-wrapper"},a.a.createElement("div",{className:"ellipsis-loader"},a.a.createElement("div",{className:"ellipsis-loader__circle ellipsis-loader__circle--1"}),a.a.createElement("div",{className:"ellipsis-loader__circle ellipsis-loader__circle--2"}),a.a.createElement("div",{className:"ellipsis-loader__circle ellipsis-loader__circle--3"}),a.a.createElement("div",{className:"ellipsis-loader__circle ellipsis-loader__circle--4"}))))};var z,F,R,L,B=Object(s.b)("appStore")(Object(s.c)(function(e){return e.appStore.operationManager.hasPendingTasks?a.a.createElement(I,null):null})),q=(r(353),Object(s.b)("appStore")(z=Object(s.c)(z=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.appStore,t="DD-MMM-YYYY HH:mm:ss ddd";return a.a.createElement("div",{className:"dev-tools"},a.a.createElement("div",null,"Time (UTC): ",e.appModel.timeWatcher.currentTime.format(t)),a.a.createElement("div",null,"Order ",e.isOrderAllowed?"is":"is not"," allowed"),a.a.createElement("div",null,e.appModel.timeWatcher.currentThursday.format(t)),a.a.createElement("div",null,e.appModel.timeWatcher.currentSunday.format(t)))}}]),t}(a.a.Component))||z)||z),H=a.a.lazy(function(){return r.e(1).then(r.bind(null,698))}),J=a.a.lazy(function(){return r.e(2).then(r.bind(null,697))}),V=a.a.lazy(function(){return r.e(3).then(r.bind(null,696))}),Y=a.a.lazy(function(){return r.e(4).then(r.bind(null,702))}),$=a.a.lazy(function(){return Promise.all([r.e(7),r.e(5)]).then(r.bind(null,703))}),K=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.appStore.startTimeWatcher()}},{key:"componentWillUnmount",value:function(){this.props.appStore.stopTimeWatcher()}},{key:"render",value:function(){var e=this.props.appStore.identity.isAuthenticated;return a.a.createElement(a.a.Fragment,null,a.a.createElement(U,{className:"layout__header fixed-top"}),a.a.createElement("main",{className:"layout__main"},a.a.createElement(m.f,null,a.a.createElement(k,{exact:!0,path:"/",component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement(I,null)},a.a.createElement(H,null))}}),a.a.createElement(k,{path:"/order/",isPrivate:!0,isAuthenticated:e,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement(I,null)},a.a.createElement(J,null))}}),a.a.createElement(k,{path:"/my-order/",isPrivate:!0,isAuthenticated:e,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement(I,null)},a.a.createElement(V,null))}}),a.a.createElement(k,{path:"/week-order/",isPrivate:!0,isAuthenticated:e,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement(I,null)},a.a.createElement(Y,null))}}),a.a.createElement(k,{path:"/login/",component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement(I,null)},a.a.createElement($,null))}}))),a.a.createElement(C,{className:"layout__footer"}),a.a.createElement(B,null),!v.isProduction&&a.a.createElement(q,null))}}]),t}(n.Component),G=Object(s.b)("appStore")(Object(f.a)(Object(s.c)(K))),Q=r(6),X=r.n(Q),Z=r(10),ee=r(48),te=r.n(ee),re=(F=function(){function e(t){Object(p.a)(this,e),this.tickInterval=t,Object(E.a)(this,"currentTime",R,this),Object(E.a)(this,"tick",L,this)}return Object(l.a)(e,[{key:"start",value:function(){this.interval=setInterval(this.tick,1e3*this.tickInterval),this.tick()}},{key:"stop",value:function(){this.interval&&clearInterval(this.interval)}},{key:"currentThursday",get:function(){return te()(this.currentTime).isoWeekday(4).set({hour:16,minute:0,second:0})}},{key:"currentSunday",get:function(){return te()(this.currentTime).isoWeekday(7).set({hour:12,minute:0,second:0})}}]),e}(),R=Object(x.a)(F.prototype,"currentTime",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return te()()}}),L=Object(x.a)(F.prototype,"tick",[c.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.currentTime=te()()}}}),Object(x.a)(F.prototype,"currentThursday",[c.computed],Object.getOwnPropertyDescriptor(F.prototype,"currentThursday"),F.prototype),Object(x.a)(F.prototype,"currentSunday",[c.computed],Object.getOwnPropertyDescriptor(F.prototype,"currentSunday"),F.prototype),F),ne=(r(357),r(332)),ae=Object(ne.extendMoment)(te.a),oe="L";function ie(e){return ae(e).set({hour:0,minute:0,second:0,millisecond:0})}var ce,se,ue,pe,le,de,he,be,fe,ye,Oe,me,ve,je,ge,we,ke,Ee,Se,xe,De,Pe,Me,Ae,Te,We,Ne,_e,Ue,Ce,Ie,ze,Fe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(p.a)(this,e),this.shortDate=t,this.isHoliday=r}return Object(l.a)(e,[{key:"toMoment",value:function(){return e=this.shortDate,ie(ae(e,oe));var e}},{key:"shortName",get:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe;return ae(e,t).format("ddd")}(this.shortDate)}}]),e}(),Re=(ce=function(){function e(t){Object(p.a)(this,e),this.calendarService=t,Object(E.a)(this,"days",se,this)}return Object(l.a)(e,[{key:"fetchDays",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t,r=this;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.calendarService.getDays();case 3:t=e.sent,Object(c.runInAction)(function(){r.days=t.map(function(e){return new Fe(e.shortDate,e.isHoliday)})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"getDay",value:function(e){return this.days.find(function(t){return t.shortDate===e})}},{key:"nextWeekWorkingDays",get:function(){return function(e){var t=ie(ae().add(1,"weeks").isoWeekday("Monday")),r=ie(ae().add(1,"weeks").isoWeekday("Friday"));return e.filter(function(e){return e.toMoment().isBetween(t,r,null,"[]")})}(this.days)}}]),e}(),se=Object(x.a)(ce.prototype,"days",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(x.a)(ce.prototype,"nextWeekWorkingDays",[c.computed],Object.getOwnPropertyDescriptor(ce.prototype,"nextWeekWorkingDays"),ce.prototype),Object(x.a)(ce.prototype,"fetchDays",[c.action],Object.getOwnPropertyDescriptor(ce.prototype,"fetchDays"),ce.prototype),ce),Le=r(170),Be=r(333),qe=function(){function e(t){var r=t.id,n=t.name,a=t.price,o=t.negativeReviews,i=void 0===o?0:o,c=t.positiveReviews,s=void 0===c?0:c;Object(p.a)(this,e),this.id=r,this.name=n,this.price=a,this.positiveReviews=s,this.negativeReviews=i}return Object(l.a)(e,[{key:"rating",get:function(){return this.positiveReviews-this.negativeReviews}}]),e}(),He=function e(t){var r=t.id,n=t.name,a=t.dishes,o=t.canMultiSelect,i=void 0!==o&&o;Object(p.a)(this,e),this.id=r,this.name=n,this.canMultiSelect=i,this.dishes=a.map(function(e){return new qe(e)})},Je=function(){function e(t){var r=t.supplierId,n=t.supplierName,a=t.availableMoneyToOrder,o=t.canMultiSelect,i=void 0===o||o,c=t.categories;Object(p.a)(this,e),this.id=r,this.name=n,this.availableMoneyToOrder=a,this.categories=c.map(function(e){return new He(Object(Be.a)({},e,{canMultiSelect:i}))})}return Object(l.a)(e,[{key:"allDishes",get:function(){return this.categories.reduce(function(e,t){return Object(Le.a)(e).concat(Object(Le.a)(t.dishes))},[])}}]),e}(),Ve=function e(t,r){Object(p.a)(this,e),this.weekDay=t,this.suppliers=r.map(function(e){return new Je(e)})},Ye=(ue=function(){function e(t,r,n){var a=this;Object(p.a)(this,e),this.menuService=t,this.orderService=r,this.appModel=n,Object(E.a)(this,"nextWeekMenu",pe,this),Object(E.a)(this,"todayOrders",le,this),Object(E.a)(this,"sharedTodayOrders",de,this),Object(E.a)(this,"myOrders",he,this),this.orderLunch=function(){var e=Object(Z.a)(X.a.mark(function e(t){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.orderService.orderLunch(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}return Object(l.a)(e,[{key:"fetchWeekMenu",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t,r,n=this;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.menuService.getWeekMenu();case 3:t=e.sent,r=t.map(function(e){var t=n.appModel.calendar.getDay(e.shortDate)||new Fe(e.shortDate);return new Ve(t,e.suppliers)}),Object(c.runInAction)(function(){n.nextWeekMenu=r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTodayOrders",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t,r=this;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.orderService.getTodayOrders();case 3:t=e.sent,Object(c.runInAction)(function(){r.todayOrders=t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchSharedTodayOrders",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t,r=this;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.orderService.getSharedTodayOrders();case 3:t=e.sent,Object(c.runInAction)(function(){r.sharedTodayOrders=t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyOrders",value:function(){var e=Object(Z.a)(X.a.mark(function e(t){var r,n=this;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.orderService.getWeekOrders(t);case 3:r=e.sent,Object(c.runInAction)(function(){n.myOrders=r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),pe=Object(x.a)(ue.prototype,"nextWeekMenu",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=Object(x.a)(ue.prototype,"todayOrders",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=Object(x.a)(ue.prototype,"sharedTodayOrders",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=Object(x.a)(ue.prototype,"myOrders",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue),$e=(be=function(){function e(t){var r=t.calendarService,n=t.menuService,a=t.orderService;Object(p.a)(this,e),this.timeWatcher=new re(v.timeUpdateInterval),this.calendar=new Re(r),this.orders=new Ye(n,a,this)}return Object(l.a)(e,[{key:"init",value:function(){var e=Object(Z.a)(X.a.mark(function e(){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.calendar.fetchDays();case 2:return e.abrupt("return",Promise.all([this.orders.fetchWeekMenu(),this.orders.fetchTodayOrders(),this.orders.fetchSharedTodayOrders()]));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isOrderAllowed",get:function(){return this.timeWatcher.currentTime.isBetween(this.timeWatcher.currentThursday,this.timeWatcher.currentSunday)}}]),e}(),Object(x.a)(be.prototype,"isOrderAllowed",[c.computed],Object.getOwnPropertyDescriptor(be.prototype,"isOrderAllowed"),be.prototype),be),Ke=function e(t){Object(p.a)(this,e),this.appStore=t},Ge=(fe=function(e){function t(e,r){var n;return Object(p.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).appModel=r,n}return Object(b.a)(t,e),Object(l.a)(t,[{key:"todayOrders",get:function(){return this.appModel.orders.todayOrders}},{key:"sharedTodayOrders",get:function(){return this.appModel.orders.sharedTodayOrders}}]),t}(Ke),Object(x.a)(fe.prototype,"todayOrders",[c.computed],Object.getOwnPropertyDescriptor(fe.prototype,"todayOrders"),fe.prototype),Object(x.a)(fe.prototype,"sharedTodayOrders",[c.computed],Object.getOwnPropertyDescriptor(fe.prototype,"sharedTodayOrders"),fe.prototype),fe),Qe=r(337),Xe=(ye=c.action.bound,Oe=function(e){function t(e,r){var n;return Object(p.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).appModel=r,Object(E.a)(n,"selectedDay",me,Object(S.a)(Object(S.a)(n))),Object(E.a)(n,"switchDay",ve,Object(S.a)(Object(S.a)(n))),n.orderLunch=function(){var e=Object(Z.a)(X.a.mark(function e(t,r){var a,o;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.appStore.identity.isAuthenticated){e.next=2;break}throw new Error("User must be authenticated to perform this operation");case 2:return e.prev=2,a=n.appStore.identity.currentUser,o=function(){return n.appModel.orders.orderLunch({day:t,user:a,order:r})},e.next=7,n.appStore.operationManager.runWithProgress(o);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0.message);case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t,r){return e.apply(this,arguments)}}(),n}return Object(b.a)(t,e),Object(l.a)(t,[{key:"nextWeekMenu",get:function(){return this.appModel.orders.nextWeekMenu}},{key:"myOrders",get:function(){return this.appModel.orders.myOrders}},{key:"activeDay",get:function(){var e=null;this.appModel.orders.nextWeekMenu.length>0&&(e=Object(Qe.a)(this.appModel.orders.nextWeekMenu,1)[0].weekDay);return this.selectedDay||e}}]),t}(Ke),Object(x.a)(Oe.prototype,"nextWeekMenu",[c.computed],Object.getOwnPropertyDescriptor(Oe.prototype,"nextWeekMenu"),Oe.prototype),Object(x.a)(Oe.prototype,"myOrders",[c.computed],Object.getOwnPropertyDescriptor(Oe.prototype,"myOrders"),Oe.prototype),me=Object(x.a)(Oe.prototype,"selectedDay",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=Object(x.a)(Oe.prototype,"switchDay",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selectedDay!==t&&(e.selectedDay=t)}}}),Object(x.a)(Oe.prototype,"activeDay",[c.computed],Object.getOwnPropertyDescriptor(Oe.prototype,"activeDay"),Oe.prototype),Oe),Ze=(je=function(e){function t(e,r){var n;return Object(p.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).appModel=r,n}return Object(b.a)(t,e),Object(l.a)(t,[{key:"fetchOrders",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t,r=this;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.appStore.identity.isAuthenticated?this.appStore.identity.currentUser.id:null,this.appStore.operationManager.runWithProgress(function(){return r.appModel.orders.fetchMyOrders(t)});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"orders",get:function(){return this.appModel.orders.myOrders}},{key:"nextWeekWorkingDays",get:function(){return this.appModel.calendar.nextWeekWorkingDays}}]),t}(Ke),Object(x.a)(je.prototype,"orders",[c.computed],Object.getOwnPropertyDescriptor(je.prototype,"orders"),je.prototype),Object(x.a)(je.prototype,"nextWeekWorkingDays",[c.computed],Object.getOwnPropertyDescriptor(je.prototype,"nextWeekWorkingDays"),je.prototype),Object(x.a)(je.prototype,"fetchOrders",[c.action],Object.getOwnPropertyDescriptor(je.prototype,"fetchOrders"),je.prototype),je),et=r(334),tt=r.n(et),rt=r(335),nt=r.n(rt),at=function(e){e.invalidate("This is a generic error message!")},ot=function(e){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:at;return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).call(this,{fields:e},{options:{showErrorsOnChange:!0,validateOnChange:!0},plugins:{dvr:nt.a},hooks:{onSuccess:r,onError:n}}))}return Object(b.a)(t,e),t}(tt.a),it=r(280),ct=(ge=c.action.bound,we=c.action.bound,ke=function(){function e(t,r){Object(p.a)(this,e),this.users=t,this.appStore=r,Object(E.a)(this,"selectedUserId",Ee,this),Object(E.a)(this,"selectedOption",Se,this),Object(E.a)(this,"onChange",xe,this),Object(E.a)(this,"onSubmit",De,this)}return Object(l.a)(e,[{key:"options",get:function(){return this.users.map(function(e){return{label:e.name,value:e.id}})}},{key:"selectedUser",get:function(){var e=this;return this.selectedOption&&this.users.find(function(t){return t.id===e.selectedOption.value})||null}}]),e}(),Ee=Object(x.a)(ke.prototype,"selectedUserId",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=Object(x.a)(ke.prototype,"selectedOption",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(x.a)(ke.prototype,"options",[c.computed],Object.getOwnPropertyDescriptor(ke.prototype,"options"),ke.prototype),Object(x.a)(ke.prototype,"selectedUser",[c.computed],Object.getOwnPropertyDescriptor(ke.prototype,"selectedUser"),ke.prototype),xe=Object(x.a)(ke.prototype,"onChange",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selectedOption=t}}}),De=Object(x.a)(ke.prototype,"onSubmit",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(Z.a)(X.a.mark(function t(){var r,n,a;return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.selectedUser){t.next=4;break}return r=e.selectedUser,n=r.name,a=r.password,t.next=4,e.appStore.operationManager.runWithProgress(function(){return e.appStore.identity.login(n,a)});case 4:case"end":return t.stop()}},t,this)}))}}),ke),st=(Pe=c.action.bound,Me=function(e){function t(e){var r;return Object(p.a)(this,t),r=Object(d.a)(this,Object(h.a)(t).call(this,e)),Object(E.a)(r,"isRegisterNew",Ae,Object(S.a)(Object(S.a)(r))),r.signInForm=new ot(it.a,function(){var t=Object(Z.a)(X.a.mark(function t(n){var a,o,i;return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.values(),o=a.name,i=a.password,t.next=3,r.appStore.operationManager.runWithProgress(function(){return e.identity.signIn(o,i)});case 3:n.clear(),r.onShowRegisterNewForm();case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),r}return Object(b.a)(t,e),Object(l.a)(t,[{key:"onShowRegisterNewForm",value:function(){this.isRegisterNew=!this.isRegisterNew}},{key:"isAuthenticated",get:function(){return this.appStore.identity.isAuthenticated}},{key:"loginForm",get:function(){var e=this.appStore.identity.users;return e.length>0?new ct(e,this.appStore):null}},{key:"showLoginForm",get:function(){return!this.isRegisterNew&&null!==this.loginForm}},{key:"showSignInForm",get:function(){return this.isRegisterNew}}]),t}(Ke),Object(x.a)(Me.prototype,"isAuthenticated",[c.computed],Object.getOwnPropertyDescriptor(Me.prototype,"isAuthenticated"),Me.prototype),Ae=Object(x.a)(Me.prototype,"isRegisterNew",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(x.a)(Me.prototype,"onShowRegisterNewForm",[Pe],Object.getOwnPropertyDescriptor(Me.prototype,"onShowRegisterNewForm"),Me.prototype),Object(x.a)(Me.prototype,"loginForm",[c.computed],Object.getOwnPropertyDescriptor(Me.prototype,"loginForm"),Me.prototype),Object(x.a)(Me.prototype,"showLoginForm",[c.computed],Object.getOwnPropertyDescriptor(Me.prototype,"showLoginForm"),Me.prototype),Object(x.a)(Me.prototype,"showSignInForm",[c.computed],Object.getOwnPropertyDescriptor(Me.prototype,"showSignInForm"),Me.prototype),Me),ut=(Te=function(){function e(t,r){var n=this;Object(p.a)(this,e),this.appModel=t,this.appStore=r,Object(c.when)(function(){return n.appStore.identity.isAuthenticated},function(){n.appModel.orders.fetchMyOrders(n.appStore.identity.currentUser.id)})}return Object(l.a)(e,[{key:"canOrder",get:function(){return this.appModel.isOrderAllowed}}]),e}(),Object(x.a)(Te.prototype,"canOrder",[c.computed],Object.getOwnPropertyDescriptor(Te.prototype,"canOrder"),Te.prototype),Te),pt=(We=function(){function e(t,r){Object(p.a)(this,e),this.authService=t,this.cryptoService=r,Object(E.a)(this,"users",Ne,this),Object(E.a)(this,"currentUser",_e,this);var n=t.authenticate();this.auth(n),this.fetchAllUsers()}return Object(l.a)(e,[{key:"fetchAllUsers",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t,r=this;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.authService.getAllUsers();case 3:t=e.sent,Object(c.runInAction)(function(){r.users=t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(Z.a)(X.a.mark(function e(t,r){var n;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authService.login(t,r);case 2:return n=e.sent,e.abrupt("return",this.auth(n));case 4:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"signIn",value:function(){var e=Object(Z.a)(X.a.mark(function e(t,r){var n;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoService.encodePassword(r);case 2:return r=e.sent,e.next=5,this.authService.signin(t,r);case 5:return n=e.sent,e.abrupt("return",this.auth(n));case 7:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.authService.logout(),this.currentUser=null}},{key:"auth",value:function(e){this.currentUser=e}},{key:"isAuthenticated",get:function(){return null!==this.currentUser}}]),e}(),Ne=Object(x.a)(We.prototype,"users",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(x.a)(We.prototype,"fetchAllUsers",[c.action],Object.getOwnPropertyDescriptor(We.prototype,"fetchAllUsers"),We.prototype),_e=Object(x.a)(We.prototype,"currentUser",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(x.a)(We.prototype,"isAuthenticated",[c.computed],Object.getOwnPropertyDescriptor(We.prototype,"isAuthenticated"),We.prototype),Object(x.a)(We.prototype,"login",[c.action],Object.getOwnPropertyDescriptor(We.prototype,"login"),We.prototype),Object(x.a)(We.prototype,"signIn",[c.action],Object.getOwnPropertyDescriptor(We.prototype,"signIn"),We.prototype),Object(x.a)(We.prototype,"logout",[c.action],Object.getOwnPropertyDescriptor(We.prototype,"logout"),We.prototype),Object(x.a)(We.prototype,"auth",[c.action],Object.getOwnPropertyDescriptor(We.prototype,"auth"),We.prototype),We),lt=(Ue=function(){function e(){Object(p.a)(this,e),Object(E.a)(this,"pendingTasksCount",Ce,this)}return Object(l.a)(e,[{key:"runWithProgress",value:function(){var e=Object(Z.a)(X.a.mark(function e(t){var r=this;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingTasksCount++,e.abrupt("return",t().finally(function(){Object(c.runInAction)(function(){r.pendingTasksCount--})}));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"hasPendingTasks",get:function(){return this.pendingTasksCount>0}}]),e}(),Ce=Object(x.a)(Ue.prototype,"pendingTasksCount",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(x.a)(Ue.prototype,"hasPendingTasks",[c.computed],Object.getOwnPropertyDescriptor(Ue.prototype,"hasPendingTasks"),Ue.prototype),Object(x.a)(Ue.prototype,"runWithProgress",[c.action],Object.getOwnPropertyDescriptor(Ue.prototype,"runWithProgress"),Ue.prototype),Ue),dt=(Ie=function(){function e(t){Object(p.a)(this,e),this.appModel=t}return Object(l.a)(e,[{key:"days",get:function(){return this.appModel.calendar.days}}]),e}(),Object(x.a)(Ie.prototype,"days",[c.computed],Object.getOwnPropertyDescriptor(Ie.prototype,"days"),Ie.prototype),Ie),ht=(ze=function(){function e(t){var r=this,n=t.appModel,a=t.identityStore;Object(p.a)(this,e),this.appModel=n,this.calendar=new dt(n),this.identity=a,this.operationManager=new lt,this.operationManager.runWithProgress(function(){return r.appModel.init()})}return Object(l.a)(e,[{key:"startTimeWatcher",value:function(){this.appModel.timeWatcher.start()}},{key:"stopTimeWatcher",value:function(){this.appModel.timeWatcher.stop()}},{key:"isLoading",get:function(){return this.operationManager.hasPendingTasks}},{key:"isOrderAllowed",get:function(){return this.appModel.isOrderAllowed}}]),e}(),Object(x.a)(ze.prototype,"isLoading",[c.computed],Object.getOwnPropertyDescriptor(ze.prototype,"isLoading"),ze.prototype),Object(x.a)(ze.prototype,"isOrderAllowed",[c.computed],Object.getOwnPropertyDescriptor(ze.prototype,"isOrderAllowed"),ze.prototype),ze);var bt=r(31),ft=r.n(bt),yt=function(){function e(t){Object(p.a)(this,e),this.api="".concat(t,"/menu/week-menu")}return Object(l.a)(e,[{key:"getWeekMenu",value:function(){var e=Object(Z.a)(X.a.mark(function e(){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft.a.get(this.api);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Ot=r(122),mt=r.n(Ot),vt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(p.a)(this,e),this.fullName=t,this.id=r},jt=function(){function e(){Object(p.a)(this,e),this.domainEndpoint=v.backendDomain,this.expiresAt=0}return Object(l.a)(e,[{key:"login",value:function(){var e=Object(Z.a)(X.a.mark(function e(t,r){var n,a,o,i;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.encryptPassword(r),e.prev=1,e.next=4,ft.a.post("".concat(this.domainEndpoint,"login"),{name:t,password:r});case 4:if(n=e.sent.data,a=n.success,o=n.token,!a){e.next=21;break}i=null,e.prev=9,i=mt.a.verify(o,v.secret),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(9),console.error(e.t0),e.abrupt("return",null);case 17:return this.setSession(i.expiresIn,o),e.abrupt("return",new vt(i.name,i.id));case 21:return e.abrupt("return",null);case 22:e.next=27;break;case 24:return e.prev=24,e.t1=e.catch(1),e.abrupt("return",Promise.resolve(null));case 27:case"end":return e.stop()}},e,this,[[1,24],[9,13]])}));return function(t,r){return e.apply(this,arguments)}}()},{key:"signin",value:function(){var e=Object(Z.a)(X.a.mark(function e(t,r){var n,a,o,i;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.encryptPassword(r),e.prev=1,e.next=4,ft.a.post("".concat(this.domainEndpoint,"signin"),{name:t,password:r});case 4:if(n=e.sent.data,a=n.success,o=n.token,!a){e.next=21;break}i=null,e.prev=9,i=mt.a.verify(o,v.secret),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(9),console.error(e.t0),e.abrupt("return",null);case 17:return this.setSession(i.expiresIn,o),e.abrupt("return",new vt(i.name,i.id));case 21:return e.abrupt("return",null);case 22:e.next=27;break;case 24:return e.prev=24,e.t1=e.catch(1),e.abrupt("return",Promise.resolve(null));case 27:case"end":return e.stop()}},e,this,[[1,24],[9,13]])}));return function(t,r){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("food-order-session")}},{key:"authenticate",value:function(){var e=window.localStorage.getItem("food-order-session");return e?this.getUserFromSession(e):null}},{key:"getAllUsers",value:function(){var e=Object(Z.a)(X.a.mark(function e(){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft()("".concat(this.domainEndpoint,"api/users"));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getUserFromSession",value:function(e){var t=null;try{t=mt.a.verify(e,v.secret)}catch(r){return console.error(r),null}return new vt(t.name,t.id)}},{key:"setSession",value:function(e,t){this.expiresAt=1e3*e+(new Date).getTime(),localStorage.setItem("food-order-session",t)}},{key:"encryptPassword",value:function(e){return e}},{key:"isAuthenticated",get:function(){return(new Date).getTime()<this.expiresAt}}]),e}(),gt=function(){function e(t){Object(p.a)(this,e),this.api=t,this.api="".concat(t,"/order")}return Object(l.a)(e,[{key:"getTodayOrders",value:function(){var e=Object(Z.a)(X.a.mark(function e(){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft.a.get("".concat(this.api,"/today-orders/"));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getSharedTodayOrders",value:function(){var e=Object(Z.a)(X.a.mark(function e(){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft.a.get("".concat(this.api,"/shared-today-orders/"));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"orderLunch",value:function(e){return ft.a.post("".concat(this.api,"/order-lunch/"),e)}},{key:"getWeekOrders",value:function(){var e=Object(Z.a)(X.a.mark(function e(t){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,ft.a.get("".concat(this.api,"/week-orders/").concat(t));case 4:return e.abrupt("return",e.sent.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),wt=r(336),kt=r.n(wt),Et=function(){function e(){Object(p.a)(this,e)}return Object(l.a)(e,[{key:"encodePassword",value:function(e){return kt.a.hash(e,10)}}]),e}(),St=function(){function e(t){Object(p.a)(this,e),this.api=t,this.api=t+"/calendar"}return Object(l.a)(e,[{key:"getDays",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.api+"/next-two-weeks",e.next=3,ft.a.get(t);case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();r(650);Object(c.configure)({enforceActions:"always"});var xt,Dt=function(e){var t=e.menuService,r=e.orderService,n=e.authService,a=e.cryptoService,o=e.calendarService,i=new $e({calendarService:o,menuService:t,orderService:r}),c=new pt(n,a),s=new ht({appModel:i,identityStore:c}),u=new ut(i,s);return{appStore:s,homePageStore:new Ge(s,i),orderPageStore:new Xe(s,i),weekOrderPageStore:new Ze(s,i),loginPageStore:new st(s),myOrderStore:u}}((xt="".concat(v.backendDomain,"api"),{menuService:new yt(xt),orderService:new gt(xt),authService:new jt,cryptoService:new Et,calendarService:new St(xt)})),Pt=document.getElementById("root");i.a.render(a.a.createElement(s.a,Dt,a.a.createElement(u.a,null,a.a.createElement(O,null,a.a.createElement(G,null)))),Pt)}},[[339,8,6]]]);
//# sourceMappingURL=main.5d280d48.chunk.js.map