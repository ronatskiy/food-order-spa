{"version":3,"sources":["components/scroll-to-top.tsx","images/user-logo.svg","components/header/user/user.tsx","components/header/header.tsx","components/footer/footer.tsx","components/loaders/ellipsis-loader.tsx","components/loaders/smart-loader.tsx","components/app.tsx","store/identity-store.ts","store/opearation-manager.ts","store/root-store.ts","entities/user.ts","entities/day.ts","pages/home/transformators/transform-to-users-orders.ts","store/page-store.ts","pages/home/store/home-page-store.ts","pages/order/store/order-page-store.ts","pages/week-order/store/week-order-page-store.ts","entities/dish.js","entities/dish-category.js","entities/supplier.js","entities/day-menu.ts","services/menu-service/index.ts","services/auth-service/index.ts","entities/today-user-order.ts","services/order-service/index.ts","config/index.ts","index.tsx","services/index.ts","store/index.ts"],"names":["ScrollToTop","prevProps","this","props","location","window","scrollTo","children","React","Component","withRouter","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","user_logo_ref","react_default","a","createElement","d","fill","user_logo_SvgComponent","x","y","width","height","viewBox","User","__webpack_require__","p","_ref","name","className","Header","inject","observer","toggle","action","_this","isOpen","identity","rootStore","concat","reactstrap_es","dark","expand","Link","to","onClick","navbar","isAuthenticated","login","href","nav","inNavbar","caret","header_user_user","currentUser","fullName","right","disabled","divider","logout","observable","Footer","EllipsisLoader","operationManager","hasPendingTasks","loaders_ellipsis_loader","Home","lazy","e","then","bind","Order","MyOrder","MyWeekOrder","Fragment","header_header","Route","path","exact","render","react","fallback","footer","smart_loader","IdentityStore","authService","classCallCheck","initializerDefineProperty","identity_store_descriptor","user","runInAction","computed","OperationManager","operation","pendingTasksCount","finally","RootStore","undefined","id","Day","shortName","date","isHoliday","transformToUsersOrders","todayOrders","map","userName","dayName","suppliers","firstSupplier","slicedToArray","allDishes","day","order","supplierName","dishes","PageStore","HomePageStore","bound","orderService","possibleConstructorReturn","getPrototypeOf","home_page_store_descriptor","assertThisInitialized","_descriptor2","fetchAllData","fetchTodayOrders","fetchSharedTodayOrders","sharedTodayOrdersData","_this2","sharedTodayOrders","console","error","_context","t0","message","_this3","runWithProgress","getTodayOrders","_this4","getSharedTodayOrders","OrderPageStore","menuService","order_page_store_descriptor","order_page_store_descriptor2","_descriptor3","orderLunch","asyncToGenerator","regenerator_default","mark","_callee","makeOrder","wrap","prev","next","Error","abrupt","stop","_x","_x2","getWeekMenu","weekMenu","dayMenu","switchDay","log","_context2","selectedDay","WEEK_DAYS","WeekOrderPageStore","week_order_page_store_descriptor","userId","getWeekOrders","orders","days","userOrder","reduce","acc","find","toConsumableArray","Dish","price","negativeRewievs","positiveRewievs","rating","DishCategory","_ref$canMultiSelect","canMultiSelect","dish","Supplier","supplierId","availableMoneyToOrder","categories","category","objectSpread","DayMenu","weekDay","_ref$weekDayDate","weekDayDate","_ref$isHoliday","_ref$orderedDishes","orderedDishes","supplier","MenuService","api","axios","get","menu","data","wd","AuthService","Promise","resolve","TodayUserOrder","OrderService","uo","post","config","process","REACT_APP_IS_AUTHENTICATED","backendDomain","configure","enforceActions","apiEndpoint","isAuth","stores","homePageStore","orderPageStore","weekOrderPageStore","createStores","rootElement","document","getElementById","ReactDOM","index_module","BrowserRouter","scroll_to_top","app"],"mappings":"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","file":"static/js/main.7ce5c50a.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\r\n\r\ninterface Props extends RouteComponentProps<{}> {}\r\n\r\nclass ScrollToTop extends React.Component<Props> {\r\n\tcomponentDidUpdate(prevProps: Props) {\r\n\t\tif (this.props.location !== prevProps.location) {\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn this.props.children;\r\n\t}\r\n}\r\n\r\nexport default withRouter(ScrollToTop);\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M55,27.5C55,12.337,42.663,0,27.5,0S0,12.337,0,27.5c0,8.009,3.444,15.228,8.926,20.258l-0.026,0.023l0.892,0.752  c0.058,0.049,0.121,0.089,0.179,0.137c0.474,0.393,0.965,0.766,1.465,1.127c0.162,0.117,0.324,0.234,0.489,0.348  c0.534,0.368,1.082,0.717,1.642,1.048c0.122,0.072,0.245,0.142,0.368,0.212c0.613,0.349,1.239,0.678,1.88,0.98  c0.047,0.022,0.095,0.042,0.142,0.064c2.089,0.971,4.319,1.684,6.651,2.105c0.061,0.011,0.122,0.022,0.184,0.033  c0.724,0.125,1.456,0.225,2.197,0.292c0.09,0.008,0.18,0.013,0.271,0.021C25.998,54.961,26.744,55,27.5,55  c0.749,0,1.488-0.039,2.222-0.098c0.093-0.008,0.186-0.013,0.279-0.021c0.735-0.067,1.461-0.164,2.178-0.287  c0.062-0.011,0.125-0.022,0.187-0.034c2.297-0.412,4.495-1.109,6.557-2.055c0.076-0.035,0.153-0.068,0.229-0.104  c0.617-0.29,1.22-0.603,1.811-0.936c0.147-0.083,0.293-0.167,0.439-0.253c0.538-0.317,1.067-0.648,1.581-1  c0.185-0.126,0.366-0.259,0.549-0.391c0.439-0.316,0.87-0.642,1.289-0.983c0.093-0.075,0.193-0.14,0.284-0.217l0.915-0.764  l-0.027-0.023C51.523,42.802,55,35.55,55,27.5z M2,27.5C2,13.439,13.439,2,27.5,2S53,13.439,53,27.5  c0,7.577-3.325,14.389-8.589,19.063c-0.294-0.203-0.59-0.385-0.893-0.537l-8.467-4.233c-0.76-0.38-1.232-1.144-1.232-1.993v-2.957  c0.196-0.242,0.403-0.516,0.617-0.817c1.096-1.548,1.975-3.27,2.616-5.123c1.267-0.602,2.085-1.864,2.085-3.289v-3.545  c0-0.867-0.318-1.708-0.887-2.369v-4.667c0.052-0.519,0.236-3.448-1.883-5.864C34.524,9.065,31.541,8,27.5,8  s-7.024,1.065-8.867,3.168c-2.119,2.416-1.935,5.345-1.883,5.864v4.667c-0.568,0.661-0.887,1.502-0.887,2.369v3.545  c0,1.101,0.494,2.128,1.34,2.821c0.81,3.173,2.477,5.575,3.093,6.389v2.894c0,0.816-0.445,1.566-1.162,1.958l-7.907,4.313  c-0.252,0.137-0.502,0.297-0.752,0.476C5.276,41.792,2,35.022,2,27.5z M42.459,48.132c-0.35,0.254-0.706,0.5-1.067,0.735  c-0.166,0.108-0.331,0.216-0.5,0.321c-0.472,0.292-0.952,0.57-1.442,0.83c-0.108,0.057-0.217,0.111-0.326,0.167  c-1.126,0.577-2.291,1.073-3.488,1.476c-0.042,0.014-0.084,0.029-0.127,0.043c-0.627,0.208-1.262,0.393-1.904,0.552  c-0.002,0-0.004,0.001-0.006,0.001c-0.648,0.16-1.304,0.293-1.964,0.402c-0.018,0.003-0.036,0.007-0.054,0.01  c-0.621,0.101-1.247,0.174-1.875,0.229c-0.111,0.01-0.222,0.017-0.334,0.025C28.751,52.97,28.127,53,27.5,53  c-0.634,0-1.266-0.031-1.895-0.078c-0.109-0.008-0.218-0.015-0.326-0.025c-0.634-0.056-1.265-0.131-1.89-0.233  c-0.028-0.005-0.056-0.01-0.084-0.015c-1.322-0.221-2.623-0.546-3.89-0.971c-0.039-0.013-0.079-0.027-0.118-0.04  c-0.629-0.214-1.251-0.451-1.862-0.713c-0.004-0.002-0.009-0.004-0.013-0.006c-0.578-0.249-1.145-0.525-1.705-0.816  c-0.073-0.038-0.147-0.074-0.219-0.113c-0.511-0.273-1.011-0.568-1.504-0.876c-0.146-0.092-0.291-0.185-0.435-0.279  c-0.454-0.297-0.902-0.606-1.338-0.933c-0.045-0.034-0.088-0.07-0.133-0.104c0.032-0.018,0.064-0.036,0.096-0.054l7.907-4.313  c1.36-0.742,2.205-2.165,2.205-3.714l-0.001-3.602l-0.23-0.278c-0.022-0.025-2.184-2.655-3.001-6.216l-0.091-0.396l-0.341-0.221  c-0.481-0.311-0.769-0.831-0.769-1.392v-3.545c0-0.465,0.197-0.898,0.557-1.223l0.33-0.298v-5.57l-0.009-0.131  c-0.003-0.024-0.298-2.429,1.396-4.36C21.583,10.837,24.061,10,27.5,10c3.426,0,5.896,0.83,7.346,2.466  c1.692,1.911,1.415,4.361,1.413,4.381l-0.009,5.701l0.33,0.298c0.359,0.324,0.557,0.758,0.557,1.223v3.545  c0,0.713-0.485,1.36-1.181,1.575l-0.497,0.153l-0.16,0.495c-0.59,1.833-1.43,3.526-2.496,5.032c-0.262,0.37-0.517,0.698-0.736,0.949  l-0.248,0.283V39.8c0,1.612,0.896,3.062,2.338,3.782l8.467,4.233c0.054,0.027,0.107,0.055,0.16,0.083  C42.677,47.979,42.567,48.054,42.459,48.132z\",\n  fill: \"#FFFFFF\"\n});\n\nvar SvgComponent = function SvgComponent(props) {\n  return React.createElement(\"svg\", _extends({\n    x: 0,\n    y: 0,\n    width: 55,\n    height: 55,\n    viewBox: \"0 0 55 55\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/user-logo.fe2d5a4d.svg\";\nexport { SvgComponent as ReactComponent };","import React from \"react\";\r\n\r\nimport { ReactComponent as UserLogo } from \"../../../images/user-logo.svg\";\r\nimport \"./user.scss\";\r\n\r\ninterface Props {\r\n\tname: string;\r\n}\r\n\r\nconst User: React.FC<Props> = ({ name }) => {\r\n\treturn (\r\n\t\t<div className=\"user\">\r\n\t\t\t<UserLogo className=\"user__logo\" />\r\n\t\t\t<span className=\"user__name\">{name}</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n\tContainer,\n\tNavbar,\n\tNavbarToggler,\n\tCollapse,\n\tNav,\n\tNavItem,\n\tNavLink,\n\tUncontrolledDropdown,\n\tDropdownToggle,\n\tDropdownMenu, DropdownItem\n} from \"reactstrap\";\n\nimport User from \"./user/user\";\nimport { RootStore } from \"../../store\";\n\nimport \"./header.scss\";\nimport { observer, inject } from \"mobx-react\";\nimport { action, observable } from \"mobx\";\n\ninterface Props {\n\trootStore?: RootStore;\n\tclassName: string;\n}\n\n@inject(\"rootStore\")\n@observer\nclass Header extends React.Component<Props> {\n\t@observable\n\tisOpen: boolean = false;\n\n\ttoggle = action(() => {\n\t\tthis.isOpen = !this.isOpen;\n\t});\n\n\trender() {\n\t\tconst { className } = this.props;\n\t\tconst { identity } = this.props.rootStore!;\n\n\t\treturn (\n\t\t\t<header className={`header ${className}`}>\n\t\t\t\t<Container className=\"px-0\">\n\t\t\t\t\t<Navbar dark expand=\"md\">\n\t\t\t\t\t\t<Link className=\"navbar-brand\" to=\"/\">\n\t\t\t\t\t\t\tГорячие обеды\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<NavbarToggler onClick={this.toggle} />\n\t\t\t\t\t\t<Collapse isOpen={this.isOpen} navbar>\n\t\t\t\t\t\t\t<Nav className=\"ml-auto mr-auto\" navbar>\n\t\t\t\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t\t\t\t<Link className=\"nav-link\" to=\"/order/\">\n\t\t\t\t\t\t\t\t\t\tЗаказать обед\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t\t\t\t<Link className=\"nav-link\" to=\"/week-order/\">\n\t\t\t\t\t\t\t\t\t\tЗаказ на неделю\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t\t\t\t<Link className=\"nav-link\" to=\"/my-order/\">\n\t\t\t\t\t\t\t\t\t\tМой обед\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t\t<Nav navbar>\n\t\t\t\t\t\t\t\t{!identity.isAuthenticated && (\n\t\t\t\t\t\t\t\t\t<NavItem>\n\t\t\t\t\t\t\t\t\t\t<NavLink onClick={() => identity.login()} href=\"#\">\n\t\t\t\t\t\t\t\t\t\t\tВход\n\t\t\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{identity.isAuthenticated && (\n\t\t\t\t\t\t\t\t\t<UncontrolledDropdown nav inNavbar>\n\t\t\t\t\t\t\t\t\t\t<DropdownToggle nav caret>\n\t\t\t\t\t\t\t\t\t\t\t<User name={identity.currentUser!.fullName} />\n\t\t\t\t\t\t\t\t\t\t</DropdownToggle>\n\t\t\t\t\t\t\t\t\t\t<DropdownMenu right>\n\t\t\t\t\t\t\t\t\t\t\t<DropdownItem disabled>\n\t\t\t\t\t\t\t\t\t\t\t\tПрофиль\n\t\t\t\t\t\t\t\t\t\t\t</DropdownItem>\n\t\t\t\t\t\t\t\t\t\t\t<DropdownItem divider />\n\t\t\t\t\t\t\t\t\t\t\t<DropdownItem onClick={() => identity.logout()}>\n\t\t\t\t\t\t\t\t\t\t\t\tВыход\n\t\t\t\t\t\t\t\t\t\t\t</DropdownItem>\n\t\t\t\t\t\t\t\t\t\t</DropdownMenu>\n\t\t\t\t\t\t\t\t\t</UncontrolledDropdown>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t</Navbar>\n\t\t\t\t</Container>\n\t\t\t</header>\n\t\t);\n\t}\n}\n\nexport default Header;\n","import React from \"react\";\r\nimport { Container } from \"reactstrap\";\r\n\r\ninterface Props {\r\n\tclassName: string;\r\n}\r\n\r\nconst Footer = ({ className }: Props) => {\r\n\treturn (\r\n\t\t<footer className={`footer ${className}`}>\r\n\t\t\t<Container>&copy; 2018 Murano Hackathon Food order group</Container>\r\n\t\t</footer>\r\n\t);\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nimport \"./ellipsis-loader.scss\";\r\n\r\nfunction EllipsisLoader() {\r\n\treturn (\r\n\t\t<div className=\"ellipsis-loader-overlay\">\r\n\t\t\t<div className=\"ellipsis-loader-wrapper\">\r\n\t\t\t\t<div className=\"ellipsis-loader\">\r\n\t\t\t\t\t<div className=\"ellipsis-loader__circle ellipsis-loader__circle--1\" />\r\n\t\t\t\t\t<div className=\"ellipsis-loader__circle ellipsis-loader__circle--2\" />\r\n\t\t\t\t\t<div className=\"ellipsis-loader__circle ellipsis-loader__circle--3\" />\r\n\t\t\t\t\t<div className=\"ellipsis-loader__circle ellipsis-loader__circle--4\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default EllipsisLoader;\r\n","import React from \"react\";\r\nimport { inject, observer } from \"mobx-react\";\r\n\r\nimport Loader from \"./ellipsis-loader\";\r\nimport RootStore from \"../../store/root-store\";\r\n\r\ninterface Props {\r\n\trootStore?: RootStore;\r\n}\r\n\r\nfunction SmartLoader({ rootStore }: Props) {\r\n\tconst { hasPendingTasks } = rootStore!.operationManager;\r\n\r\n\treturn hasPendingTasks ? <Loader /> : null;\r\n}\r\n\r\nexport default inject(\"rootStore\")(observer(SmartLoader));\r\n","import React, { Suspense } from \"react\";\nimport { Container } from \"reactstrap\";\nimport { Route, withRouter } from \"react-router-dom\";\nimport { inject, observer } from \"mobx-react\";\n\nimport Header from \"./header/header\";\nimport Footer from \"./footer/footer\";\n\nimport SmartLoader from \"./loaders/smart-loader\";\nimport Loader from \"./loaders/ellipsis-loader\";\n\nconst Home = React.lazy(() => import(\"../pages/home/index\"));\nconst Order = React.lazy(() => import(\"../pages/order/index\"));\nconst MyOrder = React.lazy(() => import(\"../pages/my-order/index\"));\nconst MyWeekOrder = React.lazy(() => import(\"../pages/week-order/index\"));\n\nfunction App() {\n\treturn (\n\t\t<>\n\t\t\t<Header className=\"layout__header fixed-top\" />\n\t\t\t<main className=\"layout__main\">\n\t\t\t\t<Container>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\texact\n\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t<Suspense fallback={<Loader />}>\n\t\t\t\t\t\t\t\t<Home />\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/order/\"\n\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t<Suspense fallback={<Loader />}>\n\t\t\t\t\t\t\t\t<Order />\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/my-order/\"\n\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t<Suspense fallback={<Loader />}>\n\t\t\t\t\t\t\t\t<MyOrder />\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/week-order/\"\n\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t<Suspense fallback={<Loader />}>\n\t\t\t\t\t\t\t\t<MyWeekOrder />\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</Container>\n\t\t\t</main>\n\t\t\t<Footer className=\"layout__footer\" />\n\t\t\t<SmartLoader />\n\t\t</>\n\t);\n}\n\nexport default inject(\"rootStore\")(withRouter(observer(App)));\n","import { observable, action, runInAction, computed } from \"mobx\";\r\nimport AuthService from \"../services/auth-service\";\r\nimport User from \"../entities/user\";\r\n\r\nclass IdentityStore {\r\n\tconstructor(private readonly authService: AuthService) {\r\n\t\tthis.login();\r\n\t}\r\n\r\n\t@observable\r\n\tpublic currentUser: User | null = null;\r\n\r\n\t@computed\r\n\tpublic get isAuthenticated() {\r\n\t\treturn this.currentUser !== null;\r\n\t};\r\n\r\n\t@action\r\n\tpublic async login() {\r\n\t\tconst user = await this.authService.login();\r\n\r\n\t\trunInAction(() => {\r\n\t\t\tthis.currentUser = user;\r\n\t\t})\r\n\t}\r\n\r\n\t@action\r\n\tpublic logout() {\r\n\t\tthis.currentUser = null;\r\n\t}\r\n}\r\n\r\nexport default IdentityStore;\r\n","import { observable, action, runInAction, computed } from \"mobx\";\r\n\r\nexport default class OperationManager {\r\n\t@observable\r\n\tpendingTasksCount: number = 0;\r\n\r\n\t@computed\r\n\tget hasPendingTasks() {\r\n\t\treturn this.pendingTasksCount > 0;\r\n\t}\r\n\r\n\t@action\r\n\tasync runWithProgress<T>(operation: () => Promise<T>) {\r\n\t\tthis.pendingTasksCount++;\r\n\r\n\t\treturn operation().finally(() => {\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tthis.pendingTasksCount--;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n","import { computed, observable } from \"mobx\";\r\n\r\nimport AuthService from \"../services/auth-service\";\r\nimport IdentityStore from \"./identity-store\";\r\nimport OperationManager from \"./opearation-manager\";\r\n\r\ninterface Params {\r\n\tauthService: AuthService;\r\n}\r\n\r\nexport default class RootStore {\r\n\tconstructor({ authService }: Params ) {\r\n\t\tthis.identity = new IdentityStore(authService);\r\n\t\tthis.operationManager = new OperationManager();\r\n\t}\r\n\r\n\tpublic operationManager: OperationManager;\r\n\r\n\t@observable\r\n\tpublic identity: IdentityStore;\r\n\r\n\t@computed\r\n\tpublic get isLoading() {\r\n\t\treturn this.operationManager.hasPendingTasks;\r\n\t};\r\n}","export default class User {\r\n\tconstructor(\r\n\t\tpublic fullName: string = \"\",\r\n\t\tpublic id: string = \"\") {\r\n\t}\r\n}","export default class Day {\r\n\tconstructor(public shortName: string, public date: string = \"\", public isHoliday: boolean = false) {}\r\n}\r\n","import User from \"../../../entities/user\";\r\nimport Day from \"../../../entities/day\";\r\nimport TodayUserOrder from \"../../../entities/today-user-order\";\r\n\r\nfunction transformToUsersOrders(todayOrders: TodayUserOrder[]) {\r\n\tif (!todayOrders) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\treturn todayOrders.map(({ userName, dayName, suppliers }) => {\r\n\t\tconst [firstSupplier] = suppliers; //IMPORTANT!!! The system must allow order only single supplier's food\r\n\t\tconst { name, allDishes } = firstSupplier;\r\n\r\n\t\treturn {\r\n\t\t\tday: new Day(dayName),\r\n\t\t\tuser: new User(userName),\r\n\t\t\torder: {\r\n\t\t\t\tsupplierName: name,\r\n\t\t\t\tdishes: allDishes,\r\n\t\t\t},\r\n\t\t};\r\n\t});\r\n}\r\n\r\nexport default transformToUsersOrders;\r\n","import RootStore from \"./root-store\";\r\n\r\nexport default class PageStore {\r\n\tconstructor(protected rootStore: RootStore) {}\r\n}","import { observable, runInAction, action } from \"mobx\";\r\n\r\nimport OrderService from \"../../../services/order-service\";\r\nimport { RootStore } from \"../../../store\";\r\nimport { UserOrder } from \"../../../entities/types\";\r\nimport transformToUsersOrders from \"../transformators/transform-to-users-orders\";\r\nimport PageStore from \"../../../store/page-store\";\r\n\r\nclass HomePageStore extends PageStore {\r\n\tconstructor(rootStore: RootStore, private orderService: OrderService) {\r\n\t\tsuper(rootStore);\r\n\r\n\t\tthis.fetchAllData();\r\n\t}\r\n\r\n\t@observable\r\n\tpublic todayOrders: UserOrder[] = [];\r\n\t@observable\r\n\tpublic sharedTodayOrders: UserOrder[] = [];\r\n\r\n\t@action.bound\r\n\tprivate async fetchAllData() {\r\n\t\ttry {\r\n\t\t\tlet todayOrders = await this.fetchTodayOrders();\r\n\t\t\tlet sharedTodayOrdersData = await this.fetchSharedTodayOrders();\r\n\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tthis.todayOrders = todayOrders;\r\n\t\t\t\tthis.sharedTodayOrders = transformToUsersOrders(sharedTodayOrdersData);\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(e.message);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate fetchTodayOrders() {\r\n\t\treturn this.rootStore.operationManager.runWithProgress(() => this.orderService.getTodayOrders())\r\n\t}\r\n\r\n\tprivate fetchSharedTodayOrders() {\r\n\t\treturn this.rootStore.operationManager.runWithProgress(() => this.orderService.getSharedTodayOrders())\r\n\t}\r\n}\r\n\r\nexport default HomePageStore;\r\n","import { action, observable, runInAction } from \"mobx\";\r\n\r\nimport RootStore from \"../../../store/root-store\";\r\nimport MenuService from \"../../../services/menu-service\";\r\nimport DayMenu from \"../../../entities/day-menu\";\r\nimport OrderService from \"../../../services/order-service\";\r\nimport { Order } from \"../../../entities/types\";\r\nimport Day from \"../../../entities/day\";\r\nimport PageStore from \"../../../store/page-store\";\r\n\r\nclass OrderPageStore extends PageStore {\r\n\tconstructor(rootStore: RootStore, private menuService: MenuService, private orderService: OrderService) {\r\n\t\tsuper(rootStore);\r\n\r\n\t\tthis.fetchAllData();\r\n\t}\r\n\r\n\t@observable\r\n\tpublic weekMenu: DayMenu[] = [];\r\n\t@observable\r\n\tpublic selectedDay: string = \"\";\r\n\r\n\t@action.bound\r\n\tpublic switchDay = (dayName: string) => {\r\n\t\tif (this.selectedDay !== dayName) {\r\n\r\n\t\t\tthis.selectedDay = dayName;\r\n\t\t}\r\n\t};\r\n\r\n\tpublic orderLunch = async (day: Day, order: Order) => {\r\n\t\tif(!this.rootStore.identity.isAuthenticated) {\r\n\t\t\tthrow new Error(\"User must be authenticated to perform this operation\");\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst user = this.rootStore.identity.currentUser!;\r\n\t\t\tconst makeOrder = () => this.orderService.orderLunch({\r\n\t\t\t\tday,\r\n\t\t\t\tuser,\r\n\t\t\t\torder,\r\n\t\t\t});\r\n\r\n\t\t\tawait this.rootStore.operationManager.runWithProgress(makeOrder);\r\n\t\t\treturn;\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(e.message);\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tprivate async fetchAllData() {\r\n\t\ttry {\r\n\t\t\tconst weekMenu: DayMenu[] = await this.menuService.getWeekMenu();\r\n\t\t\tconst [dayMenu] = weekMenu;\r\n\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tthis.weekMenu = weekMenu;\r\n\t\t\t});\r\n\r\n\t\t\t// TODO: Use day instead of shortName\r\n\t\t\tthis.switchDay(dayMenu.day.shortName);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e.message);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default OrderPageStore;","import { action, computed, observable, runInAction } from \"mobx\";\r\n\r\nimport PageStore from \"../../../store/page-store\";\r\nimport OrderService from \"../../../services/order-service\";\r\nimport { RootStore } from \"../../../store\";\r\nimport { UserOrder } from \"../../../entities/types\";\r\nimport Day from \"../../../entities/day\";\r\n\r\nconst WEEK_DAYS = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\"];\r\n\r\nexport default class WeekOrderPageStore extends PageStore {\r\n\tconstructor(rootStore: RootStore, private orderService: OrderService) {\r\n\t\tsuper(rootStore);\r\n\t}\r\n\r\n\t@observable\r\n\tpublic orders: UserOrder[] = [];\r\n\r\n\t@computed\r\n\tpublic get days() {\r\n\t\tconst days = this.orders.map(userOrder => userOrder.day);\r\n\r\n\t\treturn WEEK_DAYS.reduce((acc: Day[], shortName: string) => {\r\n\t\t\tconst day = days.find(d => d.shortName === shortName);\r\n\r\n\t\t\treturn [...acc, day || new Day(shortName)];\r\n\t\t}, [])\r\n\t}\r\n\r\n\t@action\r\n\tpublic async fetchOrders() {\r\n\t\tconst userId = this.rootStore.identity.isAuthenticated ?  this.rootStore.identity.currentUser!.id : null;\r\n\t\tconst orders = await this.rootStore.operationManager.runWithProgress(() => this.orderService.getWeekOrders(userId));\r\n\r\n\t\trunInAction(() => {\r\n\t\t\tthis.orders = orders;\r\n\t\t})\r\n\t}\r\n}\r\n","class Dish {\r\n\tconstructor({ id, name, price, negativeRewievs, positiveRewievs }) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.price = price;\r\n\t\tthis.rating = positiveRewievs - negativeRewievs;\r\n\t}\r\n}\r\n\r\nexport default Dish;\r\n","import Dish from \"./dish\";\r\n\r\nclass DishCategory {\r\n\tconstructor({ id, name, dishes, canMultiSelect = false }) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.canMultiSelect = canMultiSelect;\r\n\t\tthis.dishes = dishes.map(dish => new Dish(dish));\r\n\t}\r\n}\r\n\r\nexport default DishCategory;\r\n","import DishCategory from \"./dish-category\";\r\n\r\nclass Supplier {\r\n\tconstructor({ supplierId, supplierName, availableMoneyToOrder, canMultiSelect = true, categories }) {\r\n\t\tthis.id = supplierId;\r\n\t\tthis.name = supplierName;\r\n\t\tthis.availableMoneyToOrder = availableMoneyToOrder;\r\n\t\tthis.categories = categories.map(category => new DishCategory({ ...category, canMultiSelect }));\r\n\t}\r\n\r\n\tget allDishes() {\r\n\t\treturn this.categories.reduce((allDishes, category) => {\r\n\t\t\treturn [...allDishes, ...category.dishes];\r\n\t\t}, []);\r\n\t}\r\n}\r\n\r\nexport default Supplier;\r\n","import Supplier from \"./supplier\";\r\nimport Day from \"./day\";\r\n\r\ninterface DayMenuRawData {\r\n \tsuppliers:[];\r\n\tweekDay: any;\r\n\tweekDayDate: string;\r\n\tisHoliday: boolean;\r\n\torderedDishes: [];\r\n}\r\n\r\nclass DayMenu {\r\n\tpublic day: Day;\r\n\tpublic suppliers: Supplier[];\r\n\tpublic orderedDishes: [];\r\n\r\n\tconstructor({ suppliers, weekDay, weekDayDate = \"\", isHoliday = false, orderedDishes = [] }: DayMenuRawData) {\r\n\t\tthis.day = new Day(\r\n\t\t\tweekDay,\r\n\t\t\tweekDayDate,\r\n\t\t\tisHoliday,\r\n\t\t);\r\n\t\tthis.suppliers = suppliers.map(supplier => new Supplier(supplier));\r\n\t\tthis.orderedDishes = orderedDishes;\r\n\t}\r\n}\r\n\r\nexport default DayMenu;\r\n","import axios from \"axios\";\r\nimport DayMenu from \"../../entities/day-menu\";\r\n\r\nexport default class MenuService {\r\n\tprivate api: string;\r\n\r\n\tconstructor(api: string) {\r\n\t\tthis.api = `${api}/menu/week-menu/`;\r\n\t}\r\n\r\n\tpublic async getWeekMenu() {\r\n\t\tconst menu = (await axios.get(this.api)).data;\r\n\r\n\t\treturn menu.map((wd: any) => new DayMenu(wd));\r\n\t}\r\n}","import User from \"../../entities/user\";\r\n\r\nexport default class AuthService {\r\n\tconstructor(public isAuthenticated: boolean) {}\r\n\r\n\tpublic login() {\r\n\t\tif(this.isAuthenticated) {\r\n\t\t\treturn Promise.resolve(new User(\"Ivan Petrov\", \"2\"));\r\n\t\t}\r\n\r\n\t\treturn Promise.resolve(null);\r\n\t}\r\n}","import Supplier from \"./supplier\";\r\n\r\nclass TodayUserOrder {\r\n\tpublic dayName: string;\r\n\tpublic userName: string;\r\n\tpublic suppliers: Supplier[];\r\n\r\n\tconstructor(dayName: string, userName: string, suppliers: any[]) {\r\n\t\tthis.dayName = dayName;\r\n\t\tthis.userName = userName;\r\n\t\tthis.suppliers = suppliers.map(supplier => new Supplier(supplier));\r\n\t}\r\n}\r\n\r\nexport default TodayUserOrder;\r\n","import axios from \"axios\";\r\n\r\nimport { UserOrder } from \"../../entities/types\";\r\nimport TodayUserOrder from \"../../entities/today-user-order\";\r\n\r\nexport default class OrderService {\r\n\tconstructor(private readonly api: string) {\r\n\t\tthis.api = `${api}/order`;\r\n\t}\r\n\r\n\tpublic async getTodayOrders(): Promise<UserOrder[]> {\r\n\t\treturn (await axios.get(`${this.api}/today-orders/`)).data;\r\n\t}\r\n\r\n\tpublic async getSharedTodayOrders(): Promise<TodayUserOrder[]> {\r\n\t\tconst orders = (await axios.get(`${this.api}/shared-today-orders/`)).data;\r\n\t\treturn orders.map((uo: any) => new TodayUserOrder(uo.weekDay, uo.userName, uo.suppliers));\r\n\t}\r\n\r\n\tpublic orderLunch(userOrder: UserOrder) {\r\n\t\treturn axios.post(`${this.api}/order-lunch/`, userOrder);\r\n\t}\r\n\r\n\tpublic async getWeekOrders(userId: string | null): Promise<UserOrder[]> {\r\n\t\tif (!userId) {\r\n\t\t\treturn []\r\n\t\t}\r\n\r\n\t\treturn (await axios.get(`${this.api}/week-orders/${userId}`)).data;\r\n\t}\r\n}","export const config = {\r\n\tisAuthenticated: process.env.REACT_APP_IS_AUTHENTICATED === \"true\",\r\n\tbackendDomain: process.env.REACT_APP_BACKEND_DOMAIN,\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { configure } from \"mobx\";\nimport { Provider } from \"mobx-react\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport ScrollToTop from \"./components/scroll-to-top\";\nimport App from \"./components/app\";\nimport { createStores } from \"./store\";\nimport { createServices } from \"./services\";\nimport { config } from \"./config\";\nimport \"./vendors/index\";\nimport \"./index.scss\";\n\nconfigure({ enforceActions: \"always\" });\n\n// TODO: Add isAuthenticated verification from cookies\nconst isAuthenticated = config.isAuthenticated;\nconst services = createServices(`${config.backendDomain}api`, isAuthenticated);\nconst stores = createStores(services);\n\nconst rootElement = document.getElementById(\"root\");\n\nReactDOM.render(\n\t<Provider {...stores}>\n\t\t<BrowserRouter>\n\t\t\t<ScrollToTop>\n\t\t\t\t<App />\n\t\t\t</ScrollToTop>\n\t\t</BrowserRouter>\n\t</Provider>,\n\trootElement,\n);\n","import MenuService from \"./menu-service\";\r\nimport AuthService from \"./auth-service\";\r\nimport OrderService from \"./order-service\";\r\n\r\nexport function createServices(apiEndpoint: string, isAuth: boolean) {\r\n\treturn {\r\n\t\tmenuService: new MenuService(apiEndpoint),\r\n\t\torderService: new OrderService(apiEndpoint),\r\n\t\tauthService: new AuthService(isAuth),\r\n\t};\r\n}\r\n","import RootStore from \"./root-store\";\r\nimport MenuService from \"../services/menu-service\";\r\nimport OrderService from \"../services/order-service\";\r\nimport AuthService from \"../services/auth-service\";\r\nimport HomePageStore from \"../pages/home/store/home-page-store\";\r\nimport OrderPageStore from \"../pages/order/store/order-page-store\";\r\nimport WeekOrderPageStore from \"../pages/week-order/store/week-order-page-store\";\r\n\r\ninterface Services {\r\n\tmenuService: MenuService;\r\n\torderService: OrderService;\r\n\tauthService: AuthService;\r\n}\r\n\r\nfunction createStores({ menuService, orderService, authService }: Services) {\r\n\tconst rootStore = new RootStore({ authService });\r\n\tconst homePageStore = new HomePageStore(rootStore, orderService);\r\n\tconst orderPageStore = new OrderPageStore(rootStore, menuService, orderService);\r\n\tconst weekOrderPageStore = new WeekOrderPageStore(rootStore, orderService);\r\n\r\n\treturn { rootStore, homePageStore, orderPageStore, weekOrderPageStore };\r\n}\r\n\r\nexport { RootStore, createStores };\r\n"],"sourceRoot":""}